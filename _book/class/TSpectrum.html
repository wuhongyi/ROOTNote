
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>TSpectrum · GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="TSpectrum2.html" />
    
    
    <link rel="prev" href="TSocket.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="./">
            
                <a href="./">
            
                    
                    常用类的使用
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="FitResult.html">
            
                <a href="FitResult.html">
            
                    
                    FitResult
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="TAttAxis.html">
            
                <a href="TAttAxis.html">
            
                    
                    TAttAxis*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="TAxis.html">
            
                <a href="TAxis.html">
            
                    
                    TAxis*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="TBackCompFitter.html">
            
                <a href="TBackCompFitter.html">
            
                    
                    TBackCompFitter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="TBenchmark.html">
            
                <a href="TBenchmark.html">
            
                    
                    TBenchmark+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="TBranch.html">
            
                <a href="TBranch.html">
            
                    
                    TBranch*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="TBuffer.html">
            
                <a href="TBuffer.html">
            
                    
                    TBuffer+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="TBufferFile.html">
            
                <a href="TBufferFile.html">
            
                    
                    TBufferFile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="TCanvas.html">
            
                <a href="TCanvas.html">
            
                    
                    TCanvas*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="TChain.html">
            
                <a href="TChain.html">
            
                    
                    TChain*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="TCut.html">
            
                <a href="TCut.html">
            
                    
                    TCut*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.12" data-path="TCutG.html">
            
                <a href="TCutG.html">
            
                    
                    TCutG*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.13" data-path="TEllipse.html">
            
                <a href="TEllipse.html">
            
                    
                    TEllipse
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.14" data-path="TEventList.html">
            
                <a href="TEventList.html">
            
                    
                    TEventList*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.15" data-path="TF1.html">
            
                <a href="TF1.html">
            
                    
                    TF1+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.16" data-path="TF2.html">
            
                <a href="TF2.html">
            
                    
                    TF2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.17" data-path="TF3.html">
            
                <a href="TF3.html">
            
                    
                    TF3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.18" data-path="TFile.html">
            
                <a href="TFile.html">
            
                    
                    TFile*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.19" data-path="TFileCacheWrite.html">
            
                <a href="TFileCacheWrite.html">
            
                    
                    TFileCacheWrite
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.20" data-path="TFileMerger.html">
            
                <a href="TFileMerger.html">
            
                    
                    TFileMerger
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.21" data-path="TFitter.html">
            
                <a href="TFitter.html">
            
                    
                    TFitter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.22" data-path="TFitResult.html">
            
                <a href="TFitResult.html">
            
                    
                    TFitResult
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.23" data-path="TFitResultPtr.html">
            
                <a href="TFitResultPtr.html">
            
                    
                    TFitResultPtr
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.24" data-path="TFractionFitter.html">
            
                <a href="TFractionFitter.html">
            
                    
                    TFractionFitter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.25" data-path="TGaxis.html">
            
                <a href="TGaxis.html">
            
                    
                    TGaxis*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.26" data-path="TGraph.html">
            
                <a href="TGraph.html">
            
                    
                    TGraph*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.27" data-path="TGraph2D.html">
            
                <a href="TGraph2D.html">
            
                    
                    TGraph2D
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.28" data-path="TGraph2DErrors.html">
            
                <a href="TGraph2DErrors.html">
            
                    
                    TGraph2DErrors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.29" data-path="TGraphErrors.html">
            
                <a href="TGraphErrors.html">
            
                    
                    TGraphErrors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.30" data-path="TGraphPolar.html">
            
                <a href="TGraphPolar.html">
            
                    
                    TGraphPolar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.31" data-path="TH1.html">
            
                <a href="TH1.html">
            
                    
                    TH1+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.32" data-path="TH2.html">
            
                <a href="TH2.html">
            
                    
                    TH2+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.33" data-path="TH2Poly.html">
            
                <a href="TH2Poly.html">
            
                    
                    TH2Poly
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.34" data-path="TH3.html">
            
                <a href="TH3.html">
            
                    
                    TH3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.35" data-path="TLatex.html">
            
                <a href="TLatex.html">
            
                    
                    TLatex*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.36" data-path="TLegend.html">
            
                <a href="TLegend.html">
            
                    
                    TLegend*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.37" data-path="TLegendEntry.html">
            
                <a href="TLegendEntry.html">
            
                    
                    TLegendEntry*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.38" data-path="TLine.html">
            
                <a href="TLine.html">
            
                    
                    TLine*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.39" data-path="TLinearFitter.html">
            
                <a href="TLinearFitter.html">
            
                    
                    TLinearFitter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.40" data-path="TList.html">
            
                <a href="TList.html">
            
                    
                    TList*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.41" data-path="TMath.html">
            
                <a href="TMath.html">
            
                    
                    TMath
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.42" data-path="TMathBase.html">
            
                <a href="TMathBase.html">
            
                    
                    TMathBase
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.43" data-path="TMatrixT.html">
            
                <a href="TMatrixT.html">
            
                    
                    TMatrixT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.44" data-path="TMatrixTBase.html">
            
                <a href="TMatrixTBase.html">
            
                    
                    TMatrixTBase
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.45" data-path="TMatrixTSparse.html">
            
                <a href="TMatrixTSparse.html">
            
                    
                    TMatrixTSparse
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.46" data-path="TMatrixTSym.html">
            
                <a href="TMatrixTSym.html">
            
                    
                    TMatrixTSym
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.47" data-path="TMemFile.html">
            
                <a href="TMemFile.html">
            
                    
                    TMemFile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.48" data-path="TMinuit.html">
            
                <a href="TMinuit.html">
            
                    
                    TMinuit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.49" data-path="TMinuit2TraceObject.html">
            
                <a href="TMinuit2TraceObject.html">
            
                    
                    TMinuit2TraceObject
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.50" data-path="TMinuitMinimizer.html">
            
                <a href="TMinuitMinimizer.html">
            
                    
                    TMinuitMinimizer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.51" data-path="TMLPAnalyzer.html">
            
                <a href="TMLPAnalyzer.html">
            
                    
                    TMLPAnalyzer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.52" data-path="TMonitor.html">
            
                <a href="TMonitor.html">
            
                    
                    TMonitor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.53" data-path="TMultiGraph.html">
            
                <a href="TMultiGraph.html">
            
                    
                    TMultiGraph+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.54" data-path="TMultiLayerPerceptron.html">
            
                <a href="TMultiLayerPerceptron.html">
            
                    
                    TMultiLayerPerceptron
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.55" data-path="TNamed.html">
            
                <a href="TNamed.html">
            
                    
                    TNamed+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.56" data-path="TNeuron.html">
            
                <a href="TNeuron.html">
            
                    
                    TNeuron
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.57" data-path="TNtuple.html">
            
                <a href="TNtuple.html">
            
                    
                    TNtuple*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.58" data-path="TNtupleD.html">
            
                <a href="TNtupleD.html">
            
                    
                    TNtupleD*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.59" data-path="TPad.html">
            
                <a href="TPad.html">
            
                    
                    TPad*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.60" data-path="TPaveStats.html">
            
                <a href="TPaveStats.html">
            
                    
                    TPaveStats*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.61" data-path="TPolyMarker.html">
            
                <a href="TPolyMarker.html">
            
                    
                    TPolyMarker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.62" data-path="TPaveText.html">
            
                <a href="TPaveText.html">
            
                    
                    TPaveText*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.63" data-path="TPolyMarker3D.html">
            
                <a href="TPolyMarker3D.html">
            
                    
                    TPolyMarker3D
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.64" data-path="TProfile.html">
            
                <a href="TProfile.html">
            
                    
                    TProfile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.65" data-path="TProfile2D.html">
            
                <a href="TProfile2D.html">
            
                    
                    TProfile2D
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.66" data-path="TProfile3D.html">
            
                <a href="TProfile3D.html">
            
                    
                    TProfile3D
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.67" data-path="TPServerSocket.html">
            
                <a href="TPServerSocket.html">
            
                    
                    TPServerSocket
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.68" data-path="TPSocket.html">
            
                <a href="TPSocket.html">
            
                    
                    TPSocket
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.69" data-path="TRandom.html">
            
                <a href="TRandom.html">
            
                    
                    TRandom+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.70" data-path="TRandom1.html">
            
                <a href="TRandom1.html">
            
                    
                    TRandom1+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.71" data-path="TRandom2.html">
            
                <a href="TRandom2.html">
            
                    
                    TRandom2+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.72" data-path="TRandom3.html">
            
                <a href="TRandom3.html">
            
                    
                    TRandom3+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.73" data-path="TROOT.html">
            
                <a href="TROOT.html">
            
                    
                    TROOT+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.74" data-path="TServerSocket.html">
            
                <a href="TServerSocket.html">
            
                    
                    TServerSocket
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.75" data-path="TSocket.html">
            
                <a href="TSocket.html">
            
                    
                    TSocket
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.76" data-path="TSpectrum.html">
            
                <a href="TSpectrum.html">
            
                    
                    TSpectrum
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.77" data-path="TSpectrum2.html">
            
                <a href="TSpectrum2.html">
            
                    
                    TSpectrum2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.78" data-path="TSpectrum2Fit.html">
            
                <a href="TSpectrum2Fit.html">
            
                    
                    TSpectrum2Fit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.79" data-path="TSpectrum2Painter.html">
            
                <a href="TSpectrum2Painter.html">
            
                    
                    TSpectrum2Painter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.80" data-path="TSpectrum2Transform.html">
            
                <a href="TSpectrum2Transform.html">
            
                    
                    TSpectrum2Transform
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.81" data-path="TSpectrum3.html">
            
                <a href="TSpectrum3.html">
            
                    
                    TSpectrum3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.82" data-path="TSpectrumFit.html">
            
                <a href="TSpectrumFit.html">
            
                    
                    TSpectrumFit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.83" data-path="TSpectrumTransform.html">
            
                <a href="TSpectrumTransform.html">
            
                    
                    TSpectrumTransform
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.84" data-path="TSpline.html">
            
                <a href="TSpline.html">
            
                    
                    TSpline+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.85" data-path="TStopwatch.html">
            
                <a href="TStopwatch.html">
            
                    
                    TStopwatch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.86" data-path="TString.html">
            
                <a href="TString.html">
            
                    
                    TString+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.87" data-path="TStyle.html">
            
                <a href="TStyle.html">
            
                    
                    TStyle+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.88" data-path="TSystem.html">
            
                <a href="TSystem.html">
            
                    
                    TSystem+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.89" data-path="TText.html">
            
                <a href="TText.html">
            
                    
                    TText*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.90" data-path="TThread.html">
            
                <a href="TThread.html">
            
                    
                    TThread
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.91" data-path="TThreadFactory.html">
            
                <a href="TThreadFactory.html">
            
                    
                    TThreadFactory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.92" data-path="TThreadImp.html">
            
                <a href="TThreadImp.html">
            
                    
                    TThreadImp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.93" data-path="TTime.html">
            
                <a href="TTime.html">
            
                    
                    TTime*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.94" data-path="TTimer.html">
            
                <a href="TTimer.html">
            
                    
                    TTimer*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.95" data-path="TTimeStamp.html">
            
                <a href="TTimeStamp.html">
            
                    
                    TTimeStamp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.96" data-path="TTree.html">
            
                <a href="TTree.html">
            
                    
                    TTree+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.97" data-path="TTreePlayer.html">
            
                <a href="TTreePlayer.html">
            
                    
                    TTreePlayer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.98" data-path="TVector2.html">
            
                <a href="TVector2.html">
            
                    
                    TVector2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.99" data-path="TVector3.html">
            
                <a href="TVector3.html">
            
                    
                    TVector3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.100" data-path="TVectorT.html">
            
                <a href="TVectorT.html">
            
                    
                    TVectorT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.101" data-path="TVirtualFitter.html">
            
                <a href="TVirtualFitter.html">
            
                    
                    TVirtualFitter
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="gui/">
            
                <a href="gui/">
            
                    
                    图形界面的使用
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="gui/TGButton.html">
            
                <a href="gui/TGButton.html">
            
                    
                    TGButton*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="gui/TGButtonGroup.html">
            
                <a href="gui/TGButtonGroup.html">
            
                    
                    TGButtonGroup*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="gui/TGCanvas.html">
            
                <a href="gui/TGCanvas.html">
            
                    
                    TGCanvas*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="gui/TGClient.html">
            
                <a href="gui/TGClient.html">
            
                    
                    TGClient*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="gui/TGColorDialog.html">
            
                <a href="gui/TGColorDialog.html">
            
                    
                    TGColorDialog*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="gui/TGColorSelect.html">
            
                <a href="gui/TGColorSelect.html">
            
                    
                    TGColorSelect*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="gui/TGComboBox.html">
            
                <a href="gui/TGComboBox.html">
            
                    
                    TGComboBox*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="gui/TGDoubleSlider.html">
            
                <a href="gui/TGDoubleSlider.html">
            
                    
                    TGDoubleSlider*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="gui/TGFont.html">
            
                <a href="gui/TGFont.html">
            
                    
                    TGFont*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="gui/TGFontDialog.html">
            
                <a href="gui/TGFontDialog.html">
            
                    
                    TGFontDialog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="gui/TGFrame.html">
            
                <a href="gui/TGFrame.html">
            
                    
                    TGFrame*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.12" data-path="gui/TGGC.html">
            
                <a href="gui/TGGC.html">
            
                    
                    TGGC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.13" data-path="gui/TGIcon.html">
            
                <a href="gui/TGIcon.html">
            
                    
                    TGIcon*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.14" data-path="gui/TGImageMap.html">
            
                <a href="gui/TGImageMap.html">
            
                    
                    TGImageMap+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.15" data-path="gui/TGLabel.html">
            
                <a href="gui/TGLabel.html">
            
                    
                    TGLabel*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.16" data-path="gui/TGLayout.html">
            
                <a href="gui/TGLayout.html">
            
                    
                    TGLayout+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.17" data-path="gui/TGListBox.html">
            
                <a href="gui/TGListBox.html">
            
                    
                    TGListBox+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.18" data-path="gui/TGListTree.html">
            
                <a href="gui/TGListTree.html">
            
                    
                    TGListTree+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.19" data-path="gui/TGListView.html">
            
                <a href="gui/TGListView.html">
            
                    
                    TGListView+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.20" data-path="gui/TGMdiDecorFrame.html">
            
                <a href="gui/TGMdiDecorFrame.html">
            
                    
                    TGMdiDecorFrame
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.21" data-path="gui/TGMdiFrame.html">
            
                <a href="gui/TGMdiFrame.html">
            
                    
                    TGMdiFrame
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.22" data-path="gui/TGMdiMainFrame.html">
            
                <a href="gui/TGMdiMainFrame.html">
            
                    
                    TGMdiMainFrame
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.23" data-path="gui/TGMdiMenu.html">
            
                <a href="gui/TGMdiMenu.html">
            
                    
                    TGMdiMenu
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.24" data-path="gui/TGMenu.html">
            
                <a href="gui/TGMenu.html">
            
                    
                    TGMenu+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.25" data-path="gui/TGNumberEntry.html">
            
                <a href="gui/TGNumberEntry.html">
            
                    
                    TGNumberEntry+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.26" data-path="gui/TGObject.html">
            
                <a href="gui/TGObject.html">
            
                    
                    TGObject*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.27" data-path="gui/TGPicture.html">
            
                <a href="gui/TGPicture.html">
            
                    
                    TGPicture+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.28" data-path="gui/TGProgressBar.html">
            
                <a href="gui/TGProgressBar.html">
            
                    
                    TGProgressBar*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.29" data-path="gui/TGScrollBar.html">
            
                <a href="gui/TGScrollBar.html">
            
                    
                    TGScrollBar+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.30" data-path="gui/TGSimpleTable.html">
            
                <a href="gui/TGSimpleTable.html">
            
                    
                    TGSimpleTable+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.31" data-path="gui/TGSlider.html">
            
                <a href="gui/TGSlider.html">
            
                    
                    TGSlider+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.32" data-path="gui/TGSpeedo.html">
            
                <a href="gui/TGSpeedo.html">
            
                    
                    TGSpeedo*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.33" data-path="gui/TGSplitter.html">
            
                <a href="gui/TGSplitter.html">
            
                    
                    TGSplitter*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.34" data-path="gui/TGStatusBar.html">
            
                <a href="gui/TGStatusBar.html">
            
                    
                    TGStatusBar*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.35" data-path="gui/TGTab.html">
            
                <a href="gui/TGTab.html">
            
                    
                    TGTab+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.36" data-path="gui/TGTable.html">
            
                <a href="gui/TGTable.html">
            
                    
                    TGTable+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.37" data-path="gui/TGTableCell.html">
            
                <a href="gui/TGTableCell.html">
            
                    
                    TGTableCell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.38" data-path="gui/TGTableContainer.html">
            
                <a href="gui/TGTableContainer.html">
            
                    
                    TGTableContainer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.39" data-path="gui/TGTableHeader.html">
            
                <a href="gui/TGTableHeader.html">
            
                    
                    TGTableHeader
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.40" data-path="gui/TGTableLayout.html">
            
                <a href="gui/TGTableLayout.html">
            
                    
                    TGTableLayout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.41" data-path="gui/TGTextEntry.html">
            
                <a href="gui/TGTextEntry.html">
            
                    
                    TGTextEntry+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.42" data-path="gui/TGTextViewStream.html">
            
                <a href="gui/TGTextViewStream.html">
            
                    
                    TGTextViewStream+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.43" data-path="gui/TGTripleSlider.html">
            
                <a href="gui/TGTripleSlider.html">
            
                    
                    TGTripleSlider+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.44" data-path="gui/TGView.html">
            
                <a href="gui/TGView.html">
            
                    
                    TGView+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.45" data-path="gui/TGWidget.html">
            
                <a href="gui/TGWidget.html">
            
                    
                    TGWidget*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.46" data-path="gui/TGWindow.html">
            
                <a href="gui/TGWindow.html">
            
                    
                    TGWindow*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.47" data-path="gui/TQObject.html">
            
                <a href="gui/TQObject.html">
            
                    
                    TQObject*
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.48" data-path="gui/TRootEmbeddedCanvas.html">
            
                <a href="gui/TRootEmbeddedCanvas.html">
            
                    
                    TRootEmbeddedCanvas+
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="./">
            
                <a href="./">
            
                    
                    不常用类的使用
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="TDirectory.html">
            
                <a href="TDirectory.html">
            
                    
                    TDirectory+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="TDirectoryFile.html">
            
                <a href="TDirectoryFile.html">
            
                    
                    TDirectoryFile+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="TObject.html">
            
                <a href="TObject.html">
            
                    
                    TObject+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="TSystemDirectory.html">
            
                <a href="TSystemDirectory.html">
            
                    
                    TSystemDirectory+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="TSystemFile.html">
            
                <a href="TSystemFile.html">
            
                    
                    TSystemFile+
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="TTask.html">
            
                <a href="TTask.html">
            
                    
                    TTask+
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../structure/">
            
                <a href="../structure/">
            
                    
                    数据结构
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../structure/datarecord.html">
            
                <a href="../structure/datarecord.html">
            
                    
                    datarecord
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../structure/dobject.html">
            
                <a href="../structure/dobject.html">
            
                    
                    dobject
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../structure/freesegments.html">
            
                <a href="../structure/freesegments.html">
            
                    
                    freesegments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../structure/gap.html">
            
                <a href="../structure/gap.html">
            
                    
                    gap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../structure/header.html">
            
                <a href="../structure/header.html">
            
                    
                    header
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../structure/keyslist.html">
            
                <a href="../structure/keyslist.html">
            
                    
                    keyslist
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../structure/StreamerInfo.html">
            
                <a href="../structure/StreamerInfo.html">
            
                    
                    StreamerInfo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../structure/TClonesArray.html">
            
                <a href="../structure/TClonesArray.html">
            
                    
                    TClonesArray
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../structure/TDirectory.html">
            
                <a href="../structure/TDirectory.html">
            
                    
                    TDirectory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="../structure/TFile.html">
            
                <a href="../structure/TFile.html">
            
                    
                    TFile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="../structure/TObject.html">
            
                <a href="../structure/TObject.html">
            
                    
                    TObject
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.12" data-path="../structure/TProcessID.html">
            
                <a href="../structure/TProcessID.html">
            
                    
                    TProcessID
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13" data-path="../structure/TRefArray.html">
            
                <a href="../structure/TRefArray.html">
            
                    
                    TRefArray
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14" data-path="../structure/TRef.html">
            
                <a href="../structure/TRef.html">
            
                    
                    TRef
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15" data-path="../structure/TTree.html">
            
                <a href="../structure/TTree.html">
            
                    
                    TTree
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../define/">
            
                <a href="../define/">
            
                    
                    预定义
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../define/RVersion.html">
            
                <a href="../define/RVersion.html">
            
                    
                    RVersion
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../version/version.html">
            
                <a href="../version/version.html">
            
                    
                    文件版本
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >TSpectrum</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <!-- TSpectrum.md --- 
;; 
;; Description: 
;; Author: Hongyi Wu(吴鸿毅)
;; Email: wuhongyi@qq.com 
;; Created: 六 8月 13 12:47:30 2016 (+0800)
;; Last-Updated: 六 8月 13 12:52:40 2016 (+0800)
;;           By: Hongyi Wu(吴鸿毅)
;;     Update #: 7
;; URL: http://wuhongyi.cn -->


<h1 id="tspectrum">TSpectrum</h1><h2 id="class">class</h2><pre><code class="lang-cpp">TSpectrum();
TSpectrum(Int_t maxpositions, Double_t resolution=<span class="hljs-number">1</span>);
<span class="hljs-keyword">virtual</span> ~TSpectrum();
<span class="hljs-function"><span class="hljs-keyword">virtual</span> TH1        *<span class="hljs-title">Background</span><span class="hljs-params">(<span class="hljs-keyword">const</span> TH1 *hist,Int_t niter=<span class="hljs-number">20</span>, Option_t *option=<span class="hljs-string">&quot;&quot;</span>)</span></span>;
<span class="hljs-function">TH1                *<span class="hljs-title">GetHistogram</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{<span class="hljs-keyword">return</span> fHistogram;}<span class="hljs-comment">//&#x6682;&#x672A;&#x5B9E;&#x65BD;</span>
<span class="hljs-function">Int_t               <span class="hljs-title">GetNPeaks</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{<span class="hljs-keyword">return</span> fNPeaks;}
<span class="hljs-function">Double_t            *<span class="hljs-title">GetPositionX</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{<span class="hljs-keyword">return</span> fPositionX;}
<span class="hljs-function">Double_t            *<span class="hljs-title">GetPositionY</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{<span class="hljs-keyword">return</span> fPositionY;}
<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span>        <span class="hljs-title">Print</span><span class="hljs-params">(Option_t *option=<span class="hljs-string">&quot;&quot;</span>)</span> <span class="hljs-keyword">const</span></span>;
<span class="hljs-function"><span class="hljs-keyword">virtual</span> Int_t       <span class="hljs-title">Search</span><span class="hljs-params">(<span class="hljs-keyword">const</span> TH1 *hist, Double_t sigma=<span class="hljs-number">2</span>, Option_t *option=<span class="hljs-string">&quot;&quot;</span>, Double_t threshold=<span class="hljs-number">0.05</span>)</span></span>;<span class="hljs-comment">//option &#x53EF;&#x9009;</span>
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span>         <span class="hljs-title">SetAverageWindow</span><span class="hljs-params">(Int_t w=<span class="hljs-number">3</span>)</span></span>;   <span class="hljs-comment">//set average window</span>
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span>         <span class="hljs-title">SetDeconIterations</span><span class="hljs-params">(Int_t n=<span class="hljs-number">3</span>)</span></span>; <span class="hljs-comment">//set max number of decon iterations</span>
<span class="hljs-function"><span class="hljs-keyword">void</span>                <span class="hljs-title">SetResolution</span><span class="hljs-params">(Double_t resolution=<span class="hljs-number">1</span>)</span></span>;

<span class="hljs-comment">//new functions January 2006</span>
<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>         *<span class="hljs-title">Background</span><span class="hljs-params">(Double_t *spectrum, Int_t ssize,Int_t numberIterations,Int_t direction, Int_t filterOrder,<span class="hljs-keyword">bool</span> smoothing,Int_t smoothWindow,<span class="hljs-keyword">bool</span> compton)</span></span>;<span class="hljs-comment">//&#x5B9E;&#x9645;&#x8BA1;&#x7B97;background&#x51FD;&#x6570;</span>
<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>         *<span class="hljs-title">SmoothMarkov</span><span class="hljs-params">(Double_t *source, Int_t ssize, Int_t averWindow)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>         *<span class="hljs-title">Deconvolution</span><span class="hljs-params">(Double_t *source, <span class="hljs-keyword">const</span> Double_t *response,Int_t ssize, Int_t numberIterations,Int_t numberRepetitions, Double_t boost )</span></span>;
<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>         *<span class="hljs-title">DeconvolutionRL</span><span class="hljs-params">(Double_t *source, <span class="hljs-keyword">const</span> Double_t *response,Int_t ssize, Int_t numberIterations,Int_t numberRepetitions, Double_t boost )</span></span>;
<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>         *<span class="hljs-title">Unfolding</span><span class="hljs-params">(Double_t *source,<span class="hljs-keyword">const</span> Double_t **respMatrix,Int_t ssizex, Int_t ssizey,Int_t numberIterations,Int_t numberRepetitions, Double_t boost)</span></span>;
<span class="hljs-function">Int_t               <span class="hljs-title">SearchHighRes</span><span class="hljs-params">(Double_t *source,Double_t *destVector, Int_t ssize,Double_t sigma, Double_t threshold,<span class="hljs-keyword">bool</span> backgroundRemove,Int_t deconIterations,<span class="hljs-keyword">bool</span> markov, Int_t averWindow)</span></span>;<span class="hljs-comment">//&#x5B9E;&#x9645;&#x5BFB;&#x5CF0;&#x51FD;&#x6570;</span>
<span class="hljs-function">Int_t               <span class="hljs-title">Search1HighRes</span><span class="hljs-params">(Double_t *source,Double_t *destVector, Int_t ssize,Double_t sigma, Double_t threshold,<span class="hljs-keyword">bool</span> backgroundRemove,Int_t deconIterations,<span class="hljs-keyword">bool</span> markov, Int_t averWindow)</span></span>;

<span class="hljs-function"><span class="hljs-keyword">static</span> Int_t        <span class="hljs-title">StaticSearch</span><span class="hljs-params">(<span class="hljs-keyword">const</span> TH1 *hist, Double_t sigma=<span class="hljs-number">2</span>, Option_t *option=<span class="hljs-string">&quot;goff&quot;</span>, Double_t threshold=<span class="hljs-number">0.05</span>)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">static</span> TH1         *<span class="hljs-title">StaticBackground</span><span class="hljs-params">(<span class="hljs-keyword">const</span> TH1 *hist,Int_t niter=<span class="hljs-number">20</span>, Option_t *option=<span class="hljs-string">&quot;&quot;</span>)</span></span>;</code></pre>
<pre><code class="lang-cpp"><span class="hljs-function"><span class="hljs-keyword">virtual</span> TH1        *<span class="hljs-title">Background</span><span class="hljs-params">(<span class="hljs-keyword">const</span> TH1 *hist,Int_t niter=<span class="hljs-number">20</span>, Option_t *option=<span class="hljs-string">&quot;&quot;</span>)</span></span>;

<span class="hljs-keyword">enum</span> {
  kBackOrder2 =<span class="hljs-number">0</span>,
  kBackOrder4 =<span class="hljs-number">1</span>,
  kBackOrder6 =<span class="hljs-number">2</span>,
  kBackOrder8 =<span class="hljs-number">3</span>,
  kBackIncreasingWindow =<span class="hljs-number">0</span>,
  kBackDecreasingWindow =<span class="hljs-number">1</span>,
  kBackSmoothing3 =<span class="hljs-number">3</span>,
  kBackSmoothing5 =<span class="hljs-number">5</span>,
  kBackSmoothing7 =<span class="hljs-number">7</span>,
  kBackSmoothing9 =<span class="hljs-number">9</span>,
  kBackSmoothing11 =<span class="hljs-number">11</span>,
  kBackSmoothing13 =<span class="hljs-number">13</span>,
  kBackSmoothing15 =<span class="hljs-number">15</span>
};

<span class="hljs-comment">// One-dimensional background estimation function.</span>
<span class="hljs-comment">// This function calculates the background spectrum in the input histogram h.The background is returned as a histogram.</span>

<span class="hljs-comment">// Function parameters:</span>

<span class="hljs-comment">// h: input 1-d histogram</span>
<span class="hljs-comment">// numberIterations, (default value = 20).Increasing numberIterations make the result smoother and lower.</span>
<span class="hljs-comment">// option: may contain one of the following options:</span>

<span class="hljs-comment">// to set the direction parameter</span>
<span class="hljs-comment">// &quot;BackIncreasingWindow&quot;. By default the direction is BackDecreasingWindow</span>
<span class="hljs-comment">// filterOrder-order of clipping filter,  (default &quot;BackOrder2&quot;)</span>
<span class="hljs-comment">// -possible values= &quot;BackOrder4&quot;</span>
<span class="hljs-comment">// &quot;BackOrder6&quot;</span>
<span class="hljs-comment">// &quot;BackOrder8&quot;</span>
<span class="hljs-comment">// &quot;nosmoothing&quot;- if selected, the background is not smoothed</span>
<span class="hljs-comment">// By default the background is smoothed.</span>
<span class="hljs-comment">// smoothWindow-width of smoothing window, (default is &quot;BackSmoothing3&quot;)</span>
<span class="hljs-comment">// -possible values= &quot;BackSmoothing5&quot;</span>
<span class="hljs-comment">// &quot;BackSmoothing7&quot;</span>
<span class="hljs-comment">// &quot;BackSmoothing9&quot;</span>
<span class="hljs-comment">// &quot;BackSmoothing11&quot;</span>
<span class="hljs-comment">// &quot;BackSmoothing13&quot;</span>
<span class="hljs-comment">// &quot;BackSmoothing15&quot;</span>
<span class="hljs-comment">// &quot;Compton&quot; if selected the estimation of Compton edge</span>
<span class="hljs-comment">// will be included.</span>
<span class="hljs-comment">// &quot;same&quot; : if this option is specified, the resulting background</span>
<span class="hljs-comment">// histogram is superimposed on the picture in the current pad.</span>

<span class="hljs-comment">// NOTE that the background is only evaluated in the current range of h.</span>
<span class="hljs-comment">// ie, if h has a bin range (set via h-&gt;GetXaxis()-&gt;SetRange(binmin,binmax),</span>
<span class="hljs-comment">// the returned histogram will be created with the same number of bins</span>
<span class="hljs-comment">// as the input histogram h, but only bins from binmin to binmax will be filled</span>
<span class="hljs-comment">// with the estimated background.</span></code></pre>
<pre><code class="lang-cpp"><span class="hljs-function"><span class="hljs-keyword">virtual</span> Int_t       <span class="hljs-title">Search</span><span class="hljs-params">(<span class="hljs-keyword">const</span> TH1 *hist, Double_t sigma=<span class="hljs-number">2</span>, Option_t *option=<span class="hljs-string">&quot;&quot;</span>, Double_t threshold=<span class="hljs-number">0.05</span>)</span></span>;

<span class="hljs-comment">// One-dimensional peak search function</span>
<span class="hljs-comment">// This function searches for peaks in source spectrum in hin.The number of found peaks and their positions are written into the members fNpeaks and fPositionX. The search is performed in the current histogram range.</span>

<span class="hljs-comment">// Function parameters:</span>
<span class="hljs-comment">// hin:       pointer to the histogram of source spectrum</span>
<span class="hljs-comment">// sigma:   sigma of searched peaks, for details we refer to manual</span>
<span class="hljs-comment">// threshold: (default=0.05)  peaks with amplitude less than</span>
<span class="hljs-comment">// threshold*highest_peak are discarded.  0&lt;threshold&lt;1</span>

<span class="hljs-comment">// By default, the background is removed before deconvolution.</span>
<span class="hljs-comment">// Specify the option &quot;nobackground&quot; to not remove the background.</span>

<span class="hljs-comment">// By default the &quot;Markov&quot; chain algorithm is used.</span>
<span class="hljs-comment">// Specify the option &quot;noMarkov&quot; to disable this algorithm</span>
<span class="hljs-comment">// Note that by default the source spectrum is replaced by a new spectrum</span>

<span class="hljs-comment">// By default a polymarker object is created and added to the list of</span>
<span class="hljs-comment">// functions of the histogram. The histogram is drawn with the specified</span>
<span class="hljs-comment">// option and the polymarker object drawn on top of the histogram.</span>
<span class="hljs-comment">// The polymarker coordinates correspond to the npeaks peaks found in</span>
<span class="hljs-comment">// the histogram.</span>

<span class="hljs-comment">// A pointer to the polymarker object can be retrieved later via:</span>

<span class="hljs-comment">// TList *functions = hin-&gt;GetListOfFunctions();</span>
<span class="hljs-comment">// TPolyMarker *pm = (TPolyMarker*)functions-&gt;FindObject(&quot;TPolyMarker&quot;);</span>

<span class="hljs-comment">// Specify the option &quot;goff&quot; to disable the storage and drawing of the</span>
<span class="hljs-comment">// polymarker.</span>
<span class="hljs-comment">// To disable the final drawing of the histogram with the search results (in case</span>
<span class="hljs-comment">// you want to draw it yourself) specify &quot;nodraw&quot; in the options parameter.</span></code></pre>
<pre><code class="lang-cpp"><span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>         *<span class="hljs-title">Background</span><span class="hljs-params">(Double_t *spectrum, Int_t ssize,Int_t numberIterations,Int_t direction, Int_t filterOrder,<span class="hljs-keyword">bool</span> smoothing,Int_t smoothWindow,<span class="hljs-keyword">bool</span> compton)</span></span>;
<span class="hljs-comment">// This function calculates background spectrum from source spectrum.</span>
<span class="hljs-comment">// The result is placed in the vector pointed by spe1945ctrum pointer.</span>
<span class="hljs-comment">// The goal is to separate the useful information (peaks) from useless</span>
<span class="hljs-comment">// information (background).</span>

<span class="hljs-comment">// method is based on Sensitive Nonlinear Iterative Peak (SNIP) clipping algorithm.</span>
<span class="hljs-comment">// new value in the channel &quot;i&quot; is calculated</span>

<span class="hljs-comment">// where p = 1, 2, ..., numberIterations. In fact it represents second order</span>
<span class="hljs-comment">// difference filter (-1,2,-1).</span>

<span class="hljs-comment">// One can also change the</span>
<span class="hljs-comment">// direction of the change of the clipping window, the order of the clipping</span>
<span class="hljs-comment">// filter, to include smoothing, to set width of smoothing window and to include</span>
<span class="hljs-comment">// the estimation of Compton edges. On successful completion it returns 0. On</span>
<span class="hljs-comment">// error it returns pointer to the string describing error.</span>

<span class="hljs-comment">// Parameters:</span>
<span class="hljs-comment">// spectrum: pointer to the vector of source spectrum</span>
<span class="hljs-comment">// ssize: length of the spectrum vector</span>
<span class="hljs-comment">// numberIterations: maximal width of clipping window,</span>
<span class="hljs-comment">// direction:  direction of change of clipping window.Possible values: kBackIncreasingWindow, kBackDecreasingWindow</span>
<span class="hljs-comment">// filterOrder: order of clipping filter.Possible values: kBackOrder2, kBackOrder4, kBackOrder6, kBackOrder8</span>
<span class="hljs-comment">// smoothing: logical variable whether the smoothing operation in the estimation of background will be included.Possible values: kFALSE, kTRUE</span>
<span class="hljs-comment">// smoothWindow: width of smoothing window.Possible values: kBackSmoothing3, kBackSmoothing5, kBackSmoothing7,kBackSmoothing9, kBackSmoothing11, kBackSmoothing13, kBackSmoothing15.</span>
<span class="hljs-comment">// compton: logical variable whether the estimation of Compton edge will be included. Possible values: kFALSE, kTRUE.</span></code></pre>
<h2 id="code">code</h2><pre><code class="lang-cpp">Int_t npeaks=<span class="hljs-number">10</span>;
TH1F *h = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;h&quot;</span>,<span class="hljs-string">&quot;test&quot;</span>,<span class="hljs-number">500</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1000</span>);
TSpectrum *s = <span class="hljs-keyword">new</span> TSpectrum(<span class="hljs-number">2</span>*npeaks);
Int_t nfound = s-&gt;Search(h,<span class="hljs-number">2</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-number">0.1</span>);
<span class="hljs-keyword">double</span> *number=s-&gt;GetPositionX();
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i&lt;nfound; ++i)
  {
    <span class="hljs-built_in">cout</span>&lt;&lt;number[i]&lt;&lt;<span class="hljs-built_in">endl</span>;
  }
<span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;!!!:&quot;</span>&lt;&lt;s-&gt;GetNPeaks()&lt;&lt;<span class="hljs-built_in">endl</span>;</code></pre>
<h2 id="example">example</h2><p><strong>&#x4EE5;&#x4E0B;&#x4F8B;&#x5B50;&#x5E74;&#x4EE3;&#x4E45;&#x8FDC;&#xFF0C;&#x4EC5;&#x4F9B;&#x53C2;&#x8003;&#xFF0C;&#x4E0D;&#x80FD;&#x8FD0;&#x884C;&#xFF1A;</strong></p><pre><code class="lang-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;TSpectrum&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Background_incr</span><span class="hljs-params">()</span> </span>{
   Int_t i;
   Double_t nbins = <span class="hljs-number">256</span>;
   Double_t xmin  = <span class="hljs-number">0</span>;
   Double_t xmax  = nbins;
   Double_t * source = <span class="hljs-keyword">new</span> Double_t[nbins];
   TH1F *back = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;back&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TFile *f = <span class="hljs-keyword">new</span> TFile(<span class="hljs-string">&quot;spectra\\TSpectrum.root&quot;</span>);
   back=(TH1F*) f-&gt;Get(<span class="hljs-string">&quot;back1;1&quot;</span>);
   TCanvas *Background = gROOT-&gt;GetListOfCanvases()-&gt;FindObject(<span class="hljs-string">&quot;Background&quot;</span>);
   <span class="hljs-keyword">if</span> (!Background) Background =
     <span class="hljs-keyword">new</span> TCanvas(<span class="hljs-string">&quot;Background&quot;</span>,
                 <span class="hljs-string">&quot;Estimation of background with increasing window&quot;</span>,
                 <span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">1000</span>,<span class="hljs-number">700</span>);
   back-&gt;Draw(<span class="hljs-string">&quot;L&quot;</span>);
   TSpectrum *s = <span class="hljs-keyword">new</span> TSpectrum();
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=back-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">6</span>,kBackIncreasingWindow,kBackOrder2,kFALSE,
                 kBackSmoothing3,kFALSE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d-&gt;SetLineColor(kRed);
   d-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
}</code></pre>
<pre><code class="lang-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;TSpectrum&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Background_decr</span><span class="hljs-params">()</span> </span>{
   Int_t i;
   Double_t nbins = <span class="hljs-number">256</span>;
   Double_t xmin  = <span class="hljs-number">0</span>;
   Double_t xmax  = nbins;
   Double_t * source = <span class="hljs-keyword">new</span> Double_t[nbins];
   TH1F *back = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;back&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TFile *f = <span class="hljs-keyword">new</span> TFile(<span class="hljs-string">&quot;spectra\\TSpectrum.root&quot;</span>);
   back=(TH1F*) f-&gt;Get(<span class="hljs-string">&quot;back1;1&quot;</span>);
   TCanvas *Background = gROOT-&gt;GetListOfCanvases()-&gt;FindObject(<span class="hljs-string">&quot;Background&quot;</span>);
   <span class="hljs-keyword">if</span> (!Background) Background =
     <span class="hljs-keyword">new</span> TCanvas(<span class="hljs-string">&quot;Background&quot;</span>,<span class="hljs-string">&quot;Estimation of background with decreasing window&quot;</span>,
                 <span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">1000</span>,<span class="hljs-number">700</span>);
   back-&gt;Draw(<span class="hljs-string">&quot;L&quot;</span>);
   TSpectrum *s = <span class="hljs-keyword">new</span> TSpectrum();
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=back-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">6</span>,kBackDecreasingWindow,kBackOrder2,kFALSE,
                 kBackSmoothing3,kFALSE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d-&gt;SetLineColor(kRed);
   d-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
}</code></pre>
<pre><code class="lang-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;TSpectrum&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Background_width</span><span class="hljs-params">()</span> </span>{
   Int_t i;
   Double_t nbins = <span class="hljs-number">256</span>;
   Double_t xmin  = <span class="hljs-number">0</span>;
   Double_t xmax  = nbins;
   Double_t * source = <span class="hljs-keyword">new</span> Double_t[nbins];
   TH1F *h = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;h&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d1 = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d1&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d2 = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d2&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d3 = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d3&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TFile *f = <span class="hljs-keyword">new</span> TFile(<span class="hljs-string">&quot;spectra\\TSpectrum.root&quot;</span>);
   h=(TH1F*) f-&gt;Get(<span class="hljs-string">&quot;back1;1&quot;</span>);
   TCanvas *background = gROOT-&gt;GetListOfCanvases()-&gt;FindObject(<span class="hljs-string">&quot;background&quot;</span>);
   <span class="hljs-keyword">if</span> (!background) background = <span class="hljs-keyword">new</span> TCanvas(<span class="hljs-string">&quot;background&quot;</span>,
   <span class="hljs-string">&quot;Influence of clipping window width on the estimated background&quot;</span>,
   <span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">1000</span>,<span class="hljs-number">700</span>);
   h-&gt;Draw(<span class="hljs-string">&quot;L&quot;</span>);
   TSpectrum *s = <span class="hljs-keyword">new</span> TSpectrum();
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=h-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">4</span>,kBackDecreasingWindow,kBackOrder2,kFALSE,
   kBackSmoothing3,kFALSE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d1-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d1-&gt;SetLineColor(kRed);
   d1-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=h-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">6</span>,kBackDecreasingWindow,kBackOrder2,kFALSE,
   kBackSmoothing3,kFALSE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d2-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d2-&gt;SetLineColor(kBlue);
   d2-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=h-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">8</span>,kBackDecreasingWindow,kBackOrder2,kFALSE,
   kBackSmoothing3,kFALSE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d3-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d3-&gt;SetLineColor(kGreen);
   d3-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
}</code></pre>
<pre><code class="lang-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;TSpectrum&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Background_width2</span><span class="hljs-params">()</span> </span>{
   Int_t i;
   Double_t nbins = <span class="hljs-number">4096</span>;
   Double_t xmin  = <span class="hljs-number">0</span>;
   Double_t xmax  = <span class="hljs-number">4096</span>;
   Double_t * source = <span class="hljs-keyword">new</span> Double_t[nbins];
   TH1F *h = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;h&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d1 = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d1&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d2 = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d2&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d3 = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d3&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d4 = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d4&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TFile *f = <span class="hljs-keyword">new</span> TFile(<span class="hljs-string">&quot;spectra\\TSpectrum.root&quot;</span>);
   h=(TH1F*) f-&gt;Get(<span class="hljs-string">&quot;back2;1&quot;</span>);
   TCanvas *background = gROOT-&gt;GetListOfCanvases()-&gt;FindObject(<span class="hljs-string">&quot;background&quot;</span>);
   <span class="hljs-keyword">if</span> (!background) background = <span class="hljs-keyword">new</span> TCanvas(<span class="hljs-string">&quot;background&quot;</span>,
   <span class="hljs-string">&quot;Influence of clipping window width on the estimated background&quot;</span>,
   <span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">1000</span>,<span class="hljs-number">700</span>);
   h-&gt;SetAxisRange(<span class="hljs-number">0</span>,<span class="hljs-number">1000</span>);
   h-&gt;SetMaximum(<span class="hljs-number">20000</span>);
   h-&gt;Draw(<span class="hljs-string">&quot;L&quot;</span>);
   TSpectrum *s = <span class="hljs-keyword">new</span> TSpectrum();
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=h-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">10</span>,kBackDecreasingWindow,kBackOrder2,kFALSE,
   kBackSmoothing3,kFALSE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d1-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d1-&gt;SetLineColor(kRed);
   d1-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=h-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">20</span>,kBackDecreasingWindow,kBackOrder2,kFALSE,
   kBackSmoothing3,kFALSE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d2-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d2-&gt;SetLineColor(kBlue);
   d2-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=h-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">30</span>,kBackDecreasingWindow,kBackOrder2,kFALSE,
   kBackSmoothing3,kFALSE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d3-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d3-&gt;SetLineColor(kGreen);
   d3-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=h-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">10</span>,kBackDecreasingWindow,kBackOrder2,kFALSE,
   kBackSmoothing3,kFALSE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d4-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d4-&gt;SetLineColor(kMagenta);
   d4-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
}</code></pre>
<pre><code class="lang-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;TSpectrum&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Background_order</span><span class="hljs-params">()</span> </span>{
   Int_t i;
   Double_t nbins = <span class="hljs-number">4096</span>;
   Double_t xmin  = <span class="hljs-number">0</span>;
   Double_t xmax  = <span class="hljs-number">4096</span>;
   Double_t * source = <span class="hljs-keyword">new</span> Double_t[nbins];
   TH1F *h = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;h&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d1 = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d1&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d2 = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d2&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d3 = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d3&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d4 = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d4&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TFile *f = <span class="hljs-keyword">new</span> TFile(<span class="hljs-string">&quot;spectra\\TSpectrum.root&quot;</span>);
   h=(TH1F*) f-&gt;Get(<span class="hljs-string">&quot;back2;1&quot;</span>);
   TCanvas *background = gROOT-&gt;GetListOfCanvases()-&gt;FindObject(<span class="hljs-string">&quot;background&quot;</span>);
   <span class="hljs-keyword">if</span> (!background) background = <span class="hljs-keyword">new</span> TCanvas(<span class="hljs-string">&quot;background&quot;</span>,
   <span class="hljs-string">&quot;Influence of clipping filter difference order on the estimated background&quot;</span>,
   <span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">1000</span>,<span class="hljs-number">700</span>);
   h-&gt;SetAxisRange(<span class="hljs-number">1220</span>,<span class="hljs-number">1460</span>);
   h-&gt;SetMaximum(<span class="hljs-number">11000</span>);
   h-&gt;Draw(<span class="hljs-string">&quot;L&quot;</span>);
   TSpectrum *s = <span class="hljs-keyword">new</span> TSpectrum();
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=h-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">40</span>,kBackDecreasingWindow,kBackOrder2,kFALSE,
   kBackSmoothing3,kFALSE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d1-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d1-&gt;SetLineColor(kRed);
   d1-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=h-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">40</span>,kBackDecreasingWindow,kBackOrder4,kFALSE,
   kBackSmoothing3,kFALSE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d2-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d2-&gt;SetLineColor(kBlue);
   d2-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=h-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">40</span>,kBackDecreasingWindow,kBackOrder6,kFALSE,
   kBackSmoothing3,kFALSE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d3-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d3-&gt;SetLineColor(kGreen);
   d3-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=h-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">40</span>,kBackDecreasingWindow,kBackOrder8,kFALSE,
   kBackSmoothing3,kFALSE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d4-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d4-&gt;SetLineColor(kMagenta);
   d4-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
}</code></pre>
<pre><code class="lang-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;TSpectrum&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Background_smooth</span><span class="hljs-params">()</span> </span>{
   Int_t i;
   Double_t nbins = <span class="hljs-number">4096</span>;
   Double_t xmin  = <span class="hljs-number">0</span>;
   Double_t xmax  = nbins;
   Double_t * source = <span class="hljs-keyword">new</span> Double_t[nbins];
   TH1F *h = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;h&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d1 = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d1&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d2 = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d2&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TFile *f = <span class="hljs-keyword">new</span> TFile(<span class="hljs-string">&quot;spectra\\TSpectrum.root&quot;</span>);
   h=(TH1F*) f-&gt;Get(<span class="hljs-string">&quot;back4;1&quot;</span>);
   TCanvas *background = gROOT-&gt;GetListOfCanvases()-&gt;FindObject(<span class="hljs-string">&quot;background&quot;</span>);
   <span class="hljs-keyword">if</span> (!background) background = <span class="hljs-keyword">new</span> TCanvas(<span class="hljs-string">&quot;background&quot;</span>,
   <span class="hljs-string">&quot;Estimation of background with noise&quot;</span>,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">1000</span>,<span class="hljs-number">700</span>);
   h-&gt;SetAxisRange(<span class="hljs-number">3460</span>,<span class="hljs-number">3830</span>);
   h-&gt;Draw(<span class="hljs-string">&quot;L&quot;</span>);
   TSpectrum *s = <span class="hljs-keyword">new</span> TSpectrum();
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=h-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">6</span>,kBackDecreasingWindow,kBackOrder2,kFALSE,
   kBackSmoothing3,kFALSE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d1-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d1-&gt;SetLineColor(kRed);
   d1-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=h-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">6</span>,kBackDecreasingWindow,kBackOrder2,kTRUE,
   kBackSmoothing3,kFALSE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d2-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d2-&gt;SetLineColor(kBlue);
   d2-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
}</code></pre>
<pre><code class="lang-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;TSpectrum&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Background_compton</span><span class="hljs-params">()</span> </span>{
   Int_t i;
   Double_t nbins = <span class="hljs-number">512</span>;
   Double_t xmin  = <span class="hljs-number">0</span>;
   Double_t xmax  = nbins;
   Double_t * source = <span class="hljs-keyword">new</span> Double_t[nbins];
   TH1F *h = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;h&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TH1F *d1 = <span class="hljs-keyword">new</span> TH1F(<span class="hljs-string">&quot;d1&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,nbins,xmin,xmax);
   TFile *f = <span class="hljs-keyword">new</span> TFile(<span class="hljs-string">&quot;spectra\\TSpectrum.root&quot;</span>);
   h=(TH1F*) f-&gt;Get(<span class="hljs-string">&quot;back3;1&quot;</span>);
   TCanvas *background = gROOT-&gt;GetListOfCanvases()-&gt;FindObject(<span class="hljs-string">&quot;background&quot;</span>);
   <span class="hljs-keyword">if</span> (!background) background = <span class="hljs-keyword">new</span> TCanvas(<span class="hljs-string">&quot;background&quot;</span>,
   <span class="hljs-string">&quot;Estimation of background with Compton edges under peaks&quot;</span>,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">1000</span>,<span class="hljs-number">700</span>);
   h-&gt;Draw(<span class="hljs-string">&quot;L&quot;</span>);
   TSpectrum *s = <span class="hljs-keyword">new</span> TSpectrum();
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) source[i]=h-&gt;GetBinContent(i + <span class="hljs-number">1</span>);
   s-&gt;Background(source,nbins,<span class="hljs-number">10</span>,kBackDecreasingWindow,kBackOrder8,kTRUE,
   kBackSmoothing5,,kTRUE);
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nbins; i++) d1-&gt;SetBinContent(i + <span class="hljs-number">1</span>,source[i]);
   d1-&gt;SetLineColor(kRed);
   d1-&gt;Draw(<span class="hljs-string">&quot;SAME L&quot;</span>);
}</code></pre>
<!-- TSpectrum.md ends here -->



                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="TSocket.html" class="navigation navigation-prev " aria-label="Previous page: TSocket">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="TSpectrum2.html" class="navigation navigation-next " aria-label="Next page: TSpectrum2">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"TSpectrum","level":"1.2.76","depth":2,"next":{"title":"TSpectrum2","level":"1.2.77","depth":2,"path":"class/TSpectrum2.md","ref":"class/TSpectrum2.md","articles":[]},"previous":{"title":"TSocket","level":"1.2.75","depth":2,"path":"class/TSocket.md","ref":"class/TSocket.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"class/TSpectrum.md","mtime":"2016-11-02T05:51:12.514Z","type":"markdown"},"gitbook":{"version":"3.2.0","time":"2016-11-19T08:17:57.912Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

