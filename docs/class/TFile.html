

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>TFile &mdash; ROOT Note 1 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="TFileCacheWrite" href="TFileCacheWrite.html" />
    <link rel="prev" title="TSystemDirectory" href="TSystemDirectory.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ROOT Note
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">简介</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">简介</a></li>
</ul>
<p class="caption"><span class="caption-text">base类的使用</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="README.html">类的使用</a></li>
<li class="toctree-l1"><a class="reference internal" href="TObject.html">TObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="TTask.html">TTask</a></li>
<li class="toctree-l1"><a class="reference internal" href="Buttons.html">Buttons</a></li>
<li class="toctree-l1"><a class="reference internal" href="TNamed.html">TNamed</a></li>
<li class="toctree-l1"><a class="reference internal" href="TStyle.html">TStyle</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSystem.html">TSystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="TROOT.html">TROOT</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFolder.html">TFolder</a></li>
<li class="toctree-l1"><a class="reference internal" href="TEnv.html">TEnv</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMacro.html">TMacro</a></li>
<li class="toctree-l1"><a class="reference internal" href="TApplication.html">TApplication</a></li>
<li class="toctree-l1"><a class="reference internal" href="TProcessID.html">TProcessID</a></li>
<li class="toctree-l1"><a class="reference internal" href="TProcessUUID.html">TProcessUUID</a></li>
<li class="toctree-l1"><a class="reference internal" href="TString.html">TString</a></li>
<li class="toctree-l1"><a class="reference internal" href="TColor.html">TColor</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBase64.html">TBase64</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMD5.html">TMD5</a></li>
</ul>
<p class="caption"><span class="caption-text">IO类的使用</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">类的使用</a></li>
<li class="toctree-l1"><a class="reference internal" href="TKey.html">TKey</a></li>
<li class="toctree-l1"><a class="reference internal" href="TDirectory.html">TDirectory</a></li>
<li class="toctree-l1"><a class="reference internal" href="TDirectoryFile.html">TDirectoryFile</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSystemFile.html">TSystemFile</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSystemDirectory.html">TSystemDirectory</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">TFile</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#class">class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#code">code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example">example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="TFileCacheWrite.html">TFileCacheWrite</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFileCacheRead.html">TFileCacheRead</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFileMerger.html">TFileMerger</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMemFile.html">TMemFile</a></li>
<li class="toctree-l1"><a class="reference internal" href="TKeyMapFile.html">TKeyMapFile</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMapFile.html">TMapFile</a></li>
<li class="toctree-l1"><a class="reference internal" href="TArchiveFile.html">TArchiveFile</a></li>
<li class="toctree-l1"><a class="reference internal" href="TZIPFile.html">TZIPFile</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFilePrefetch.html">TFilePrefetch</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFPBlock.html">TFPBlock</a></li>
<li class="toctree-l1"><a class="reference internal" href="THDFSFile.html">THDFSFile</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBuffer.html">TBuffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBufferFile.html">TBufferFile</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBufferJSON.html">TBufferJSON</a></li>
<li class="toctree-l1"><a class="reference internal" href="TKeySQL.html">TKeySQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSQLObjectData.html">TSQLObjectData</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSQLStructure.html">TSQLStructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSQLClassInfo.html">TSQLClassInfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBufferSQL2.html">TBufferSQL2</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSQLFile.html">TSQLFile</a></li>
<li class="toctree-l1"><a class="reference internal" href="TXMLEngine.html">TXMLEngine</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBufferXML.html">TBufferXML</a></li>
<li class="toctree-l1"><a class="reference internal" href="TXMLSetup.html">TXMLSetup</a></li>
<li class="toctree-l1"><a class="reference internal" href="TKeyXML.html">TKeyXML</a></li>
<li class="toctree-l1"><a class="reference internal" href="TXMLPlayer.html">TXMLPlayer</a></li>
<li class="toctree-l1"><a class="reference internal" href="TXMLFile.html">TXMLFile</a></li>
</ul>
<p class="caption"><span class="caption-text">常用类的使用</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="README.html">类的使用</a></li>
<li class="toctree-l1"><a class="reference internal" href="TTree.html">TTree</a></li>
<li class="toctree-l1"><a class="reference internal" href="TCut.html">TCut</a></li>
<li class="toctree-l1"><a class="reference internal" href="TTreePlayer.html">TTreePlayer</a></li>
<li class="toctree-l1"><a class="reference internal" href="TChain.html">TChain</a></li>
<li class="toctree-l1"><a class="reference internal" href="TEventList.html">TEventList</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBranch.html">TBranch</a></li>
<li class="toctree-l1"><a class="reference internal" href="TNtuple.html">TNtuple</a></li>
<li class="toctree-l1"><a class="reference internal" href="TNtupleD.html">TNtupleD</a></li>
<li class="toctree-l1"><a class="reference internal" href="TCollection.html">TCollection</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSeqCollection.html">TSeqCollection</a></li>
<li class="toctree-l1"><a class="reference internal" href="TList.html">TList</a></li>
<li class="toctree-l1"><a class="reference internal" href="TVirtualFitter.html">TVirtualFitter</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBackCompFitter.html">TBackCompFitter</a></li>
<li class="toctree-l1"><a class="reference internal" href="FitResult.html">FitResult</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFitter.html">TFitter</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFitResult.html">TFitResult</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFitResultPtr.html">TFitResultPtr</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFractionFitter.html">TFractionFitter</a></li>
<li class="toctree-l1"><a class="reference internal" href="TLinearFitter.html">TLinearFitter</a></li>
<li class="toctree-l1"><a class="reference internal" href="TAttAxis.html">TAttAxis</a></li>
<li class="toctree-l1"><a class="reference internal" href="TAxis.html">TAxis</a></li>
<li class="toctree-l1"><a class="reference internal" href="TGaxis.html">TGaxis</a></li>
<li class="toctree-l1"><a class="reference internal" href="TGaxis.html#example">example</a></li>
<li class="toctree-l1"><a class="reference internal" href="TText.html">TText</a></li>
<li class="toctree-l1"><a class="reference internal" href="TPaveStats.html">TPaveStats</a></li>
<li class="toctree-l1"><a class="reference internal" href="TPolyMarker.html">TPolyMarker</a></li>
<li class="toctree-l1"><a class="reference internal" href="TPaveText.html">TPaveText</a></li>
<li class="toctree-l1"><a class="reference internal" href="TPolyMarker3D.html">TPolyMarker3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="TLatex.html">TLatex</a></li>
<li class="toctree-l1"><a class="reference internal" href="TLegend.html">TLegend</a></li>
<li class="toctree-l1"><a class="reference internal" href="TLegendEntry.html">TLegendEntry</a></li>
<li class="toctree-l1"><a class="reference internal" href="TLine.html">TLine</a></li>
<li class="toctree-l1"><a class="reference internal" href="TVirtualPad.html">TVirtualPad</a></li>
<li class="toctree-l1"><a class="reference internal" href="TPad.html">TPad</a></li>
<li class="toctree-l1"><a class="reference internal" href="TCanvas.html">TCanvas</a></li>
<li class="toctree-l1"><a class="reference internal" href="TF1.html">TF1</a></li>
<li class="toctree-l1"><a class="reference internal" href="TF2.html">TF2</a></li>
<li class="toctree-l1"><a class="reference internal" href="TF3.html">TF3</a></li>
<li class="toctree-l1"><a class="reference internal" href="TGraph.html">TGraph</a></li>
<li class="toctree-l1"><a class="reference internal" href="TCutG.html">TCutG</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMultiGraph.html">TMultiGraph</a></li>
<li class="toctree-l1"><a class="reference internal" href="TGraph2D.html">TGraph2D</a></li>
<li class="toctree-l1"><a class="reference internal" href="TGraph2DErrors.html">TGraph2DErrors</a></li>
<li class="toctree-l1"><a class="reference internal" href="TGraphErrors.html">TGraphErrors</a></li>
<li class="toctree-l1"><a class="reference internal" href="TGraphPolar.html">TGraphPolar</a></li>
<li class="toctree-l1"><a class="reference internal" href="TH1.html">TH1</a></li>
<li class="toctree-l1"><a class="reference internal" href="TH2.html">TH2</a></li>
<li class="toctree-l1"><a class="reference internal" href="TH2Poly.html">TH2Poly</a></li>
<li class="toctree-l1"><a class="reference internal" href="TH3.html">TH3</a></li>
<li class="toctree-l1"><a class="reference internal" href="TProfile.html">TProfile</a></li>
<li class="toctree-l1"><a class="reference internal" href="TProfile2D.html">TProfile2D</a></li>
<li class="toctree-l1"><a class="reference internal" href="TProfile3D.html">TProfile3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMath.html">TMath</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMathBase.html">TMathBase</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMatrixT.html">TMatrixT</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMatrixTBase.html">TMatrixTBase</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMatrixTSparse.html">TMatrixTSparse</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMatrixTSym.html">TMatrixTSym</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpline.html">TSpline</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMinuit.html">TMinuit</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMinuitMinimizer.html">TMinuitMinimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="TRandom.html">TRandom</a></li>
<li class="toctree-l1"><a class="reference internal" href="TRandom1.html">TRandom1</a></li>
<li class="toctree-l1"><a class="reference internal" href="TRandom2.html">TRandom2</a></li>
<li class="toctree-l1"><a class="reference internal" href="TRandom3.html">TRandom3</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSelector.html">TSelector</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSelectorCint.html">TSelectorCint</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSelectorDraw.html">TSelectorDraw</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSelectorEntries.html">TSelectorEntries</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSelectorList.html">TSelectorList</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSelectorScalar.html">TSelectorScalar</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrum.html">TSpectrum</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrum2.html">TSpectrum2</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrum2Fit.html">TSpectrum2Fit</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrum2Painter.html">TSpectrum2Painter</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrum2Transform.html">TSpectrum2Transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrum3.html">TSpectrum3</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrumFit.html">TSpectrumFit</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrumTransform.html">TSpectrumTransform</a></li>
<li class="toctree-l1"><a class="reference internal" href="TTime.html">TTime</a></li>
<li class="toctree-l1"><a class="reference internal" href="TTimer.html">TTimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="TTimeStamp.html">TTimeStamp</a></li>
<li class="toctree-l1"><a class="reference internal" href="TStopwatch.html">TStopwatch</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBenchmark.html">TBenchmark</a></li>
<li class="toctree-l1"><a class="reference internal" href="TThread.html">TThread</a></li>
<li class="toctree-l1"><a class="reference internal" href="TThreadFactory.html">TThreadFactory</a></li>
<li class="toctree-l1"><a class="reference internal" href="TThreadImp.html">TThreadImp</a></li>
<li class="toctree-l1"><a class="reference internal" href="TServerSocket.html">TServerSocket</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSocket.html">TSocket</a></li>
<li class="toctree-l1"><a class="reference internal" href="TPServerSocket.html">TPServerSocket</a></li>
<li class="toctree-l1"><a class="reference internal" href="TPSocket.html">TPSocket</a></li>
<li class="toctree-l1"><a class="reference internal" href="TEllipse.html">TEllipse</a></li>
<li class="toctree-l1"><a class="reference internal" href="TNeuron.html">TNeuron</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMLPAnalyzer.html">TMLPAnalyzer</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMonitor.html">TMonitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMultiLayerPerceptron.html">TMultiLayerPerceptron</a></li>
</ul>
<p class="caption"><span class="caption-text">图形界面的使用</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="gui/README.html">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/GuiTypes.html">GuiTypes</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGButton.html">TGButton</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGButtonGroup.html">TGButtonGroup</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGCanvas.html">TGCanvas</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGClient.html">TGClient</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGColorDialog.html">TGColorDialog</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGColorSelect.html">TGColorSelect</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGComboBox.html">TGComboBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGCommandPlugin.html">TGCommandPlugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGDimension.html">TGDimension</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGDNDManager.html">TGDNDManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGDockableFrame.html">TGDockableFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGDoubleSlider.html">TGDoubleSlider</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGEventHandler.html">TGEventHandler</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGFileBrowser.html">TGFileBrowser</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGFileDialog.html">TGFileDialog</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGFont.html">TGFont</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGFontDialog.html">TGFontDialog</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGFrame.html">TGFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGFSComboBox.html">TGFSComboBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGFSContainer.html">TGFSContainer</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGGC.html">TGGC</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGIcon.html">TGIcon</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGIdleHandler.html">TGIdleHandler</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGImageMap.html">TGImageMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGInputDialog.html">TGInputDialog</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGLabel.html">TGLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGLayout.html">TGLayout</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGListBox.html">TGListBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGListTree.html">TGListTree</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGListView.html">TGListView</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGMdiDecorFrame.html">TGMdiDecorFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGMdiFrame.html">TGMdiFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGMdiMainFrame.html">TGMdiMainFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGMdiMenu.html">TGMdiMenu</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGMenu.html">TGMenu</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGMimeTypes.html">TGMimeTypes</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGMsgBox.html">TGMsgBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGNumberEntry.html">TGNumberEntry</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGObject.html">TGObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGPack.html">TGPack</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGPasswdDialog.html">TGPasswdDialog</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGPicture.html">TGPicture</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGProgressBar.html">TGProgressBar</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGRedirectOutputGuard.html">TGRedirectOutputGuard</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGResourcePool.html">TGResourcePool</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGScrollBar.html">TGScrollBar</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGShapedFrame.html">TGShapedFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGShutter.html">TGShutter</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGSimpleTable.html">TGSimpleTable</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGSimpleTableInterface.html">TGSimpleTableInterface</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGSlider.html">TGSlider</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGSpeedo.html">TGSpeedo</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGSplitFrame.html">TGSplitFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGSplitter.html">TGSplitter</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGStatusBar.html">TGStatusBar</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGString.html">TGString</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTab.html">TGTab</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTable.html">TGTable</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTableCell.html">TGTableCell</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTableContainer.html">TGTableContainer</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTableHeader.html">TGTableHeader</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTableLayout.html">TGTableLayout</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGText.html">TGText</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTextBuffer.html">TGTextBuffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTextEdit.html">TGTextEdit</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTextEditDialogs.html">TGTextEditDialogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTextEditor.html">TGTextEditor</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTextEntry.html">TGTextEntry</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTextView.html">TGTextView</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTextViewStream.html">TGTextViewStream</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGToolBar.html">TGToolBar</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGToolTip.html">TGToolTip</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTripleSlider.html">TGTripleSlider</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGuiBuilder.html">TGuiBuilder</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGView.html">TGView</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGWidget.html">TGWidget</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGWindow.html">TGWindow</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGXYLayout.html">TGXYLayout</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TQObject.html">TQObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TRootEmbeddedCanvas.html">TRootEmbeddedCanvas</a></li>
</ul>
<p class="caption"><span class="caption-text">GRAF3D</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="graf3d/README.html">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TAxis3D.html">TAxis3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TBRIK.html">TBRIK</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TCONE.html">TCONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TCONS.html">TCONS</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TCTUB.html">TCTUB</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TELTU.html">TELTU</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TGeometry.html">TGeometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TGTRA.html">TGTRA</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/THelix.html">THelix</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/THYPE.html">THYPE</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TMarker3DBox.html">TMarker3DBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TMaterial.html">TMaterial</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TMixture.html">TMixture</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TNodeDiv.html">TNodeDiv</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TNode.html">TNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TPARA.html">TPARA</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TPCON.html">TPCON</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TPGON.html">TPGON</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TPoints3DABC.html">TPoints3DABC</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TPointSet3D.html">TPointSet3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TPolyLine3D.html">TPolyLine3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TPolyMarker3D.html">TPolyMarker3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TRotMatrix.html">TRotMatrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TShape.html">TShape</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TSPHE.html">TSPHE</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TTRAP.html">TTRAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TTRD1.html">TTRD1</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TTRD2.html">TTRD2</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TTUBE.html">TTUBE</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TTUBS.html">TTUBS</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TView3D.html">TView3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TXTRU.html">TXTRU</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/X3DBuffer.html">X3DBuffer</a></li>
</ul>
<p class="caption"><span class="caption-text">physics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="math/README.html">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TFeldmanCousins.html">TFeldmanCousins</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TGenPhaseSpace.html">TGenPhaseSpace</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TLorentzRotation.html">TLorentzRotation</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TLorentzVector.html">TLorentzVector</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TQuaternion.html">TQuaternion</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TRobustEstimator.html">TRobustEstimator</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TRolke.html">TRolke</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TRotation.html">TRotation</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TVectorT.html">TVectorT</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TVector2.html">TVector2</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TVector3.html">TVector3</a></li>
</ul>
<p class="caption"><span class="caption-text">net</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="net/README.html">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/TCivetweb.html">TCivetweb</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/TFastCgi.html">TFastCgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/THttpCallArg.html">THttpCallArg</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/THttpEngine.html">THttpEngine</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/THttpServer.html">THttpServer</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/THttpWSEngine.html">THttpWSEngine</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/THttpWSHandler.html">THttpWSHandler</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/TRootSniffer.html">TRootSniffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/TRootSnifferStore.html">TRootSnifferStore</a></li>
</ul>
<p class="caption"><span class="caption-text">数据结构</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../structure/README.html">数据结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/datarecord.html">datarecord</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/dobject.html">dataobject</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/freesegments.html">FreeSegments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/gap.html">gap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/header.html">header</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/keyslist.html">KeysList</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/StreamerInfo.html">StreamerInfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TClonesArray.html">TClonesArray</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TDirectory.html">TDirectory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TFile.html">TFile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TObject.html">TObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TProcessID.html">TProcessID</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TRefArray.html">TRefArray</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TRef.html">TRef</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TTree.html">TTree</a></li>
</ul>
<p class="caption"><span class="caption-text">预定义</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../define/README.html">预定义</a></li>
<li class="toctree-l1"><a class="reference internal" href="../define/RVersion.html">RVersion</a></li>
</ul>
<p class="caption"><span class="caption-text">文件版本</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../version/version.html">文件更新版本</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ROOT Note</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>TFile</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/class/TFile.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <!-- TFile.md --- 
;; 
;; Description: 
;; Author: Hongyi Wu(吴鸿毅)
;; Email: wuhongyi@qq.com 
;; Created: 五 12月  5 11:38:01 2014 (+0800)
;; Last-Updated: 六 9月  9 16:24:43 2017 (+0800)
;;           By: Hongyi Wu(吴鸿毅)
;;     Update #: 22
;; URL: http://wuhongyi.cn --><div class="section" id="tfile">
<h1>TFile<a class="headerlink" href="#tfile" title="永久链接至标题">¶</a></h1>
<p>继承TDirectoryFile</p>
<p>A ROOT file is a suite of consecutive data records (TKey instances) with
a well defined format.</p>
<p>If the key is located past the 32 bit file limit (&gt; 2 GB) then some fields will
be 8 instead of 4 bytes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Byte</span> <span class="n">Range</span>      <span class="o">|</span> <span class="n">Member</span> <span class="n">Name</span> <span class="o">|</span> <span class="n">Description</span>
<span class="o">----------------|-----------|--------------</span>
<span class="mi">1</span><span class="o">-&gt;</span><span class="mi">4</span>            <span class="o">|</span> <span class="n">Nbytes</span>    <span class="o">|</span> <span class="n">Length</span> <span class="n">of</span> <span class="n">compressed</span> <span class="nb">object</span> <span class="p">(</span><span class="ow">in</span> <span class="nb">bytes</span><span class="p">)</span>
<span class="mi">5</span><span class="o">-&gt;</span><span class="mi">6</span>            <span class="o">|</span> <span class="n">Version</span>   <span class="o">|</span> <span class="n">TKey</span> <span class="n">version</span> <span class="n">identifier</span>
<span class="mi">7</span><span class="o">-&gt;</span><span class="mi">10</span>           <span class="o">|</span> <span class="n">ObjLen</span>    <span class="o">|</span> <span class="n">Length</span> <span class="n">of</span> <span class="n">uncompressed</span> <span class="nb">object</span>
<span class="mi">11</span><span class="o">-&gt;</span><span class="mi">14</span>          <span class="o">|</span> <span class="n">Datime</span>    <span class="o">|</span> <span class="n">Date</span> <span class="ow">and</span> <span class="n">time</span> <span class="n">when</span> <span class="nb">object</span> <span class="n">was</span> <span class="n">written</span> <span class="n">to</span> <span class="n">file</span>
<span class="mi">15</span><span class="o">-&gt;</span><span class="mi">16</span>          <span class="o">|</span> <span class="n">KeyLen</span>    <span class="o">|</span> <span class="n">Length</span> <span class="n">of</span> <span class="n">the</span> <span class="n">key</span> <span class="n">structure</span> <span class="p">(</span><span class="ow">in</span> <span class="nb">bytes</span><span class="p">)</span>
<span class="mi">17</span><span class="o">-&gt;</span><span class="mi">18</span>          <span class="o">|</span> <span class="n">Cycle</span>     <span class="o">|</span> <span class="n">Cycle</span> <span class="n">of</span> <span class="n">key</span>
<span class="mi">19</span><span class="o">-&gt;</span><span class="mi">22</span> <span class="p">[</span><span class="mi">19</span><span class="o">-&gt;</span><span class="mi">26</span><span class="p">]</span> <span class="o">|</span> <span class="n">SeekKey</span>   <span class="o">|</span> <span class="n">Pointer</span> <span class="n">to</span> <span class="n">record</span> <span class="n">itself</span> <span class="p">(</span><span class="n">consistency</span> <span class="n">check</span><span class="p">)</span>
<span class="mi">23</span><span class="o">-&gt;</span><span class="mi">26</span> <span class="p">[</span><span class="mi">27</span><span class="o">-&gt;</span><span class="mi">34</span><span class="p">]</span> <span class="o">|</span> <span class="n">SeekPdir</span>  <span class="o">|</span> <span class="n">Pointer</span> <span class="n">to</span> <span class="n">directory</span> <span class="n">header</span>
<span class="mi">27</span><span class="o">-&gt;</span><span class="mi">27</span> <span class="p">[</span><span class="mi">35</span><span class="o">-&gt;</span><span class="mi">35</span><span class="p">]</span> <span class="o">|</span> <span class="n">lname</span>     <span class="o">|</span> <span class="n">Number</span> <span class="n">of</span> <span class="nb">bytes</span> <span class="ow">in</span> <span class="n">the</span> <span class="k">class</span> <span class="nc">name</span>
<span class="mi">28</span><span class="o">-&gt;..</span> <span class="p">[</span><span class="mi">36</span><span class="o">-&gt;..</span><span class="p">]</span> <span class="o">|</span> <span class="n">ClassName</span> <span class="o">|</span> <span class="n">Object</span> <span class="n">Class</span> <span class="n">Name</span>
<span class="o">..-&gt;..</span>          <span class="o">|</span> <span class="n">lname</span>     <span class="o">|</span> <span class="n">Number</span> <span class="n">of</span> <span class="nb">bytes</span> <span class="ow">in</span> <span class="n">the</span> <span class="nb">object</span> <span class="n">name</span>
<span class="o">..-&gt;..</span>          <span class="o">|</span> <span class="n">Name</span>      <span class="o">|</span> <span class="n">lName</span> <span class="nb">bytes</span> <span class="k">with</span> <span class="n">the</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="nb">object</span>
<span class="o">..-&gt;..</span>          <span class="o">|</span> <span class="n">lTitle</span>    <span class="o">|</span> <span class="n">Number</span> <span class="n">of</span> <span class="nb">bytes</span> <span class="ow">in</span> <span class="n">the</span> <span class="nb">object</span> <span class="n">title</span>
<span class="o">..-&gt;..</span>          <span class="o">|</span> <span class="n">Title</span>     <span class="o">|</span> <span class="n">Title</span> <span class="n">of</span> <span class="n">the</span> <span class="nb">object</span>
<span class="o">-----&gt;</span>          <span class="o">|</span> <span class="n">DATA</span>      <span class="o">|</span> <span class="n">Data</span> <span class="nb">bytes</span> <span class="n">associated</span> <span class="n">to</span> <span class="n">the</span> <span class="nb">object</span>
</pre></div>
</div>
<p>The first data record starts at byte fBEGIN (currently set to kBEGIN).
Bytes 1-&gt;kBEGIN contain the file description, when fVersion &gt;= 1000000
it is a large file (&gt; 2 GB) and the offsets will be 8 bytes long and
fUnits will be set to 8:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Byte</span> <span class="n">Range</span>      <span class="o">|</span> <span class="n">Record</span> <span class="n">Name</span> <span class="o">|</span> <span class="n">Description</span>
<span class="o">----------------|-------------|------------</span>
<span class="mi">1</span><span class="o">-&gt;</span><span class="mi">4</span>            <span class="o">|</span> <span class="s2">&quot;root&quot;</span>      <span class="o">|</span> <span class="n">Root</span> <span class="n">file</span> <span class="n">identifier</span>
<span class="mi">5</span><span class="o">-&gt;</span><span class="mi">8</span>            <span class="o">|</span> <span class="n">fVersion</span>    <span class="o">|</span> <span class="n">File</span> <span class="nb">format</span> <span class="n">version</span>
<span class="mi">9</span><span class="o">-&gt;</span><span class="mi">12</span>           <span class="o">|</span> <span class="n">fBEGIN</span>      <span class="o">|</span> <span class="n">Pointer</span> <span class="n">to</span> <span class="n">first</span> <span class="n">data</span> <span class="n">record</span>
<span class="mi">13</span><span class="o">-&gt;</span><span class="mi">16</span> <span class="p">[</span><span class="mi">13</span><span class="o">-&gt;</span><span class="mi">20</span><span class="p">]</span> <span class="o">|</span> <span class="n">fEND</span>        <span class="o">|</span> <span class="n">Pointer</span> <span class="n">to</span> <span class="n">first</span> <span class="n">free</span> <span class="n">word</span> <span class="n">at</span> <span class="n">the</span> <span class="n">EOF</span>
<span class="mi">17</span><span class="o">-&gt;</span><span class="mi">20</span> <span class="p">[</span><span class="mi">21</span><span class="o">-&gt;</span><span class="mi">28</span><span class="p">]</span> <span class="o">|</span> <span class="n">fSeekFree</span>   <span class="o">|</span> <span class="n">Pointer</span> <span class="n">to</span> <span class="n">FREE</span> <span class="n">data</span> <span class="n">record</span>
<span class="mi">21</span><span class="o">-&gt;</span><span class="mi">24</span> <span class="p">[</span><span class="mi">29</span><span class="o">-&gt;</span><span class="mi">32</span><span class="p">]</span> <span class="o">|</span> <span class="n">fNbytesFree</span> <span class="o">|</span> <span class="n">Number</span> <span class="n">of</span> <span class="nb">bytes</span> <span class="ow">in</span> <span class="n">FREE</span> <span class="n">data</span> <span class="n">record</span>
<span class="mi">25</span><span class="o">-&gt;</span><span class="mi">28</span> <span class="p">[</span><span class="mi">33</span><span class="o">-&gt;</span><span class="mi">36</span><span class="p">]</span> <span class="o">|</span> <span class="n">nfree</span>       <span class="o">|</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">free</span> <span class="n">data</span> <span class="n">records</span>
<span class="mi">29</span><span class="o">-&gt;</span><span class="mi">32</span> <span class="p">[</span><span class="mi">37</span><span class="o">-&gt;</span><span class="mi">40</span><span class="p">]</span> <span class="o">|</span> <span class="n">fNbytesName</span> <span class="o">|</span> <span class="n">Number</span> <span class="n">of</span> <span class="nb">bytes</span> <span class="ow">in</span> <span class="n">TNamed</span> <span class="n">at</span> <span class="n">creation</span> <span class="n">time</span>
<span class="mi">33</span><span class="o">-&gt;</span><span class="mi">33</span> <span class="p">[</span><span class="mi">41</span><span class="o">-&gt;</span><span class="mi">41</span><span class="p">]</span> <span class="o">|</span> <span class="n">fUnits</span>      <span class="o">|</span> <span class="n">Number</span> <span class="n">of</span> <span class="nb">bytes</span> <span class="k">for</span> <span class="n">file</span> <span class="n">pointers</span>
<span class="mi">34</span><span class="o">-&gt;</span><span class="mi">37</span> <span class="p">[</span><span class="mi">42</span><span class="o">-&gt;</span><span class="mi">45</span><span class="p">]</span> <span class="o">|</span> <span class="n">fCompress</span>   <span class="o">|</span> <span class="n">Compression</span> <span class="n">level</span> <span class="ow">and</span> <span class="n">algorithm</span>
<span class="mi">38</span><span class="o">-&gt;</span><span class="mi">41</span> <span class="p">[</span><span class="mi">46</span><span class="o">-&gt;</span><span class="mi">53</span><span class="p">]</span> <span class="o">|</span> <span class="n">fSeekInfo</span>   <span class="o">|</span> <span class="n">Pointer</span> <span class="n">to</span> <span class="n">TStreamerInfo</span> <span class="n">record</span>
<span class="mi">42</span><span class="o">-&gt;</span><span class="mi">45</span> <span class="p">[</span><span class="mi">54</span><span class="o">-&gt;</span><span class="mi">57</span><span class="p">]</span> <span class="o">|</span> <span class="n">fNbytesInfo</span> <span class="o">|</span> <span class="n">Number</span> <span class="n">of</span> <span class="nb">bytes</span> <span class="ow">in</span> <span class="n">TStreamerInfo</span> <span class="n">record</span>
<span class="mi">46</span><span class="o">-&gt;</span><span class="mi">63</span> <span class="p">[</span><span class="mi">58</span><span class="o">-&gt;</span><span class="mi">75</span><span class="p">]</span> <span class="o">|</span> <span class="n">fUUID</span>       <span class="o">|</span> <span class="n">Universal</span> <span class="n">Unique</span> <span class="n">ID</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">///</span> <span class="n">A</span> <span class="n">ROOT</span> <span class="n">file</span> <span class="ow">is</span> <span class="n">designed</span> <span class="n">such</span> <span class="n">that</span> <span class="n">one</span> <span class="n">can</span> <span class="n">write</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">pure</span>
<span class="o">///</span> <span class="n">sequential</span> <span class="n">mode</span> <span class="p">(</span><span class="n">case</span> <span class="n">of</span> <span class="n">BATCH</span> <span class="n">jobs</span><span class="p">)</span><span class="o">.</span> <span class="n">In</span> <span class="n">this</span> <span class="n">case</span><span class="p">,</span> <span class="n">the</span> <span class="n">file</span> <span class="n">may</span> <span class="n">be</span>
<span class="o">///</span> <span class="n">read</span> <span class="n">sequentially</span> <span class="n">again</span> <span class="n">without</span> <span class="n">using</span> <span class="n">the</span> <span class="n">file</span> <span class="n">index</span> <span class="n">written</span>
<span class="o">///</span> <span class="n">at</span> <span class="n">the</span> <span class="n">end</span> <span class="n">of</span> <span class="n">the</span> <span class="n">file</span><span class="o">.</span> <span class="n">In</span> <span class="n">case</span> <span class="n">of</span> <span class="n">a</span> <span class="n">job</span> <span class="n">crash</span><span class="p">,</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">information</span>
<span class="o">///</span> <span class="n">on</span> <span class="n">the</span> <span class="n">file</span> <span class="ow">is</span> <span class="n">therefore</span> <span class="n">protected</span><span class="o">.</span>
<span class="o">///</span> <span class="n">A</span> <span class="n">ROOT</span> <span class="n">file</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="n">interactively</span><span class="o">.</span> <span class="n">In</span> <span class="n">this</span> <span class="n">case</span><span class="p">,</span> <span class="n">one</span> <span class="n">has</span> <span class="n">the</span>
<span class="o">///</span> <span class="n">possibility</span> <span class="n">to</span> <span class="n">delete</span> <span class="n">existing</span> <span class="n">objects</span> <span class="ow">and</span> <span class="n">add</span> <span class="n">new</span> <span class="n">ones</span><span class="o">.</span>
<span class="o">///</span> <span class="n">When</span> <span class="n">an</span> <span class="nb">object</span> <span class="ow">is</span> <span class="n">deleted</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">file</span><span class="p">,</span> <span class="n">the</span> <span class="n">freed</span> <span class="n">space</span> <span class="ow">is</span> <span class="n">added</span>
<span class="o">///</span> <span class="n">into</span> <span class="n">the</span> <span class="n">FREE</span> <span class="n">linked</span> <span class="nb">list</span> <span class="p">(</span><span class="n">fFree</span><span class="p">)</span><span class="o">.</span> <span class="n">The</span> <span class="n">FREE</span> <span class="nb">list</span> <span class="n">consists</span> <span class="n">of</span> <span class="n">a</span> <span class="n">chain</span>
<span class="o">///</span> <span class="n">of</span> <span class="n">consecutive</span> <span class="n">free</span> <span class="n">segments</span> <span class="n">on</span> <span class="n">the</span> <span class="n">file</span><span class="o">.</span> <span class="n">At</span> <span class="n">the</span> <span class="n">same</span> <span class="n">time</span><span class="p">,</span> <span class="n">the</span> <span class="n">first</span>
<span class="o">///</span> <span class="mi">4</span> <span class="nb">bytes</span> <span class="n">of</span> <span class="n">the</span> <span class="n">freed</span> <span class="n">record</span> <span class="n">on</span> <span class="n">the</span> <span class="n">file</span> <span class="n">are</span> <span class="n">overwritten</span> <span class="n">by</span> <span class="n">GAPSIZE</span>
<span class="o">///</span> <span class="n">where</span> <span class="n">GAPSIZE</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="n">Number</span> <span class="n">of</span> <span class="nb">bytes</span> <span class="n">occupied</span> <span class="n">by</span> <span class="n">the</span> <span class="n">record</span><span class="p">)</span><span class="o">.</span>
<span class="o">///</span> <span class="n">Option</span> <span class="n">compress</span> <span class="ow">is</span> <span class="n">used</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">compression</span> <span class="n">level</span> <span class="ow">and</span> <span class="n">algorithm</span><span class="p">:</span>
<span class="o">///</span>
<span class="o">///</span>     <span class="n">compress</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">algorithm</span> <span class="o">+</span> <span class="n">level</span>
<span class="o">///</span>
<span class="o">///</span> <span class="n">Level</span> <span class="o">|</span> <span class="n">Explanation</span>
<span class="o">///</span> <span class="o">------|-------------</span>
<span class="o">///</span> <span class="mi">0</span>   <span class="o">|</span> <span class="n">objects</span> <span class="n">written</span> <span class="n">to</span> <span class="n">this</span> <span class="n">file</span> <span class="n">will</span> <span class="ow">not</span> <span class="n">be</span> <span class="n">compressed</span><span class="o">.</span>
<span class="o">///</span> <span class="mi">1</span>   <span class="o">|</span> <span class="n">minimal</span> <span class="n">compression</span> <span class="n">level</span> <span class="n">but</span> <span class="n">fast</span><span class="o">.</span>
<span class="o">///</span> <span class="o">...</span> <span class="o">|</span> <span class="o">....</span>
<span class="o">///</span> <span class="mi">9</span>   <span class="o">|</span> <span class="n">maximal</span> <span class="n">compression</span> <span class="n">level</span> <span class="n">but</span> <span class="n">slower</span> <span class="ow">and</span> <span class="n">might</span> <span class="n">use</span> <span class="n">more</span> <span class="n">memory</span><span class="o">.</span>
<span class="o">///</span> <span class="p">(</span><span class="n">For</span> <span class="n">the</span> <span class="n">currently</span> <span class="n">supported</span> <span class="n">algorithms</span><span class="p">,</span> <span class="n">the</span> <span class="n">maximum</span> <span class="n">level</span> <span class="ow">is</span> <span class="mi">9</span><span class="p">)</span>
<span class="o">///</span> <span class="n">If</span> <span class="n">compress</span> <span class="ow">is</span> <span class="n">negative</span> <span class="n">it</span> <span class="n">indicates</span> <span class="n">the</span> <span class="n">compression</span> <span class="n">level</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">set</span> <span class="n">yet</span><span class="o">.</span>
<span class="o">///</span> <span class="n">The</span> <span class="n">enumeration</span> <span class="n">ROOT</span><span class="p">::</span><span class="n">ECompressionAlgorithm</span> <span class="n">associates</span> <span class="n">each</span>
<span class="o">///</span> <span class="n">algorithm</span> <span class="k">with</span> <span class="n">a</span> <span class="n">number</span><span class="o">.</span> <span class="n">There</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">utility</span> <span class="n">function</span> <span class="n">to</span> <span class="n">help</span>
<span class="o">///</span> <span class="n">to</span> <span class="nb">set</span> <span class="n">the</span> <span class="n">value</span> <span class="n">of</span> <span class="n">compress</span><span class="o">.</span> <span class="n">For</span> <span class="n">example</span><span class="p">,</span>
<span class="o">///</span>     <span class="n">ROOT</span><span class="p">::</span><span class="n">CompressionSettings</span><span class="p">(</span><span class="n">ROOT</span><span class="p">::</span><span class="n">kLZMA</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="o">///</span> <span class="n">will</span> <span class="n">build</span> <span class="n">an</span> <span class="n">integer</span> <span class="n">which</span> <span class="n">will</span> <span class="nb">set</span> <span class="n">the</span> <span class="n">compression</span> <span class="n">to</span> <span class="n">use</span>
<span class="o">///</span> <span class="n">the</span> <span class="n">LZMA</span> <span class="n">algorithm</span> <span class="ow">and</span> <span class="n">compression</span> <span class="n">level</span> <span class="mf">1.</span>  <span class="n">These</span> <span class="n">are</span> <span class="n">defined</span>
<span class="o">///</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">header</span> <span class="n">file</span> <span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="n">Compression</span><span class="o">.</span><span class="n">h</span><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;.</span>
<span class="o">///</span> <span class="n">Note</span> <span class="n">that</span> <span class="n">the</span> <span class="n">compression</span> <span class="n">settings</span> <span class="n">may</span> <span class="n">be</span> <span class="n">changed</span> <span class="n">at</span> <span class="nb">any</span> <span class="n">time</span><span class="o">.</span>
<span class="o">///</span> <span class="n">The</span> <span class="n">new</span> <span class="n">compression</span> <span class="n">settings</span> <span class="n">will</span> <span class="n">only</span> <span class="n">apply</span> <span class="n">to</span> <span class="n">branches</span> <span class="n">created</span>
<span class="o">///</span> <span class="ow">or</span> <span class="n">attached</span> <span class="n">after</span> <span class="n">the</span> <span class="n">setting</span> <span class="ow">is</span> <span class="n">changed</span> <span class="ow">and</span> <span class="n">other</span> <span class="n">objects</span> <span class="n">written</span>
<span class="o">///</span> <span class="n">after</span> <span class="n">the</span> <span class="n">setting</span> <span class="ow">is</span> <span class="n">changed</span><span class="o">.</span>
</pre></div>
</div>
<div class="section" id="class">
<h2>class<a class="headerlink" href="#class" title="永久链接至标题">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//全局</span>
<span class="cp">#ifndef __CINT__</span>
<span class="cp">#define gFile (TFile::CurrentFile())</span>

<span class="cp">#elif defined(__MAKECINT__)</span>
<span class="c1">// To properly handle the use of gFile in header files (in static declarations)</span>
<span class="n">R__EXTERN</span> <span class="n">TFile</span>   <span class="o">*</span><span class="n">gFile</span><span class="p">;</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>   <span class="c1">/// Asynchronous open request status</span>
   <span class="k">enum</span> <span class="n">EAsyncOpenStatus</span> <span class="p">{</span> <span class="n">kAOSNotAsync</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>  <span class="n">kAOSFailure</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                           <span class="n">kAOSInProgress</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">kAOSSuccess</span> <span class="o">=</span> <span class="mi">2</span> <span class="p">};</span>
   <span class="c1">/// Open timeout constants</span>
   <span class="k">enum</span> <span class="n">EOpenTimeOut</span> <span class="p">{</span> <span class="n">kInstantTimeout</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">kEternalTimeout</span> <span class="o">=</span> <span class="mi">999999999</span> <span class="p">};</span>

   <span class="c1">/// TTreeCache flushing semantics</span>
   <span class="k">enum</span> <span class="n">ECacheAction</span> <span class="p">{</span> <span class="n">kDisconnect</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">kDoNotDisconnect</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">};</span>



   <span class="c1">/// TFile status bits. BIT(13) is taken up by TObject</span>
   <span class="k">enum</span> <span class="n">EStatusBits</span> <span class="p">{</span>
      <span class="n">kRecovered</span>     <span class="o">=</span> <span class="n">BIT</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
      <span class="n">kHasReferences</span> <span class="o">=</span> <span class="n">BIT</span><span class="p">(</span><span class="mi">11</span><span class="p">),</span>
      <span class="n">kDevNull</span>       <span class="o">=</span> <span class="n">BIT</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span>
      <span class="n">kWriteError</span>    <span class="o">=</span> <span class="n">BIT</span><span class="p">(</span><span class="mi">14</span><span class="p">),</span>
      <span class="n">kBinaryFile</span>    <span class="o">=</span> <span class="n">BIT</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span>
      <span class="n">kRedirected</span>    <span class="o">=</span> <span class="n">BIT</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
   <span class="p">};</span>
   <span class="k">enum</span> <span class="n">ERelativeTo</span> <span class="p">{</span> <span class="n">kBeg</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">kCur</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">kEnd</span> <span class="o">=</span> <span class="mi">2</span> <span class="p">};</span>
   <span class="k">enum</span> <span class="p">{</span> <span class="n">kStartBigFile</span>  <span class="o">=</span> <span class="mi">2000000000</span> <span class="p">};</span>
   <span class="c1">/// File type</span>
   <span class="k">enum</span> <span class="n">EFileType</span> <span class="p">{</span> <span class="n">kDefault</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">kLocal</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">kNet</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">kWeb</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">kFile</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">kMerge</span> <span class="o">=</span> <span class="mi">5</span><span class="p">};</span>

   <span class="n">TFile</span><span class="p">();</span>
   <span class="n">TFile</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">fname</span><span class="p">,</span> <span class="n">Option_t</span> <span class="o">*</span><span class="n">option</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">ftitle</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">compress</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
<span class="c1">/// Opens or creates a local ROOT file.</span>
<span class="c1">/// \param[in] fname1 The name of the file</span>
<span class="c1">/// \param[in] option Specifies the mode in which the file is opened</span>
<span class="c1">/// \param[in] ftitle The title of the file</span>
<span class="c1">/// \param[in] compress Specifies the compression algorithm and level</span>
<span class="c1">/// It is recommended to specify fname1 as &quot;&lt;file&gt;.root&quot;. The suffix &quot;.root&quot;</span>
<span class="c1">/// will be used by object browsers to automatically identify the file as</span>
<span class="c1">/// a ROOT file. If the constructor fails in any way IsZombie() will</span>
<span class="c1">/// return true. Use IsOpen() to check if the file is (still) open.</span>
<span class="c1">/// To open non-local files use the static TFile::Open() method, that</span>
<span class="c1">/// will take care of opening the files using the correct remote file</span>
<span class="c1">/// access plugin.</span>
<span class="c1">/// Option | Description</span>
<span class="c1">/// -------|------------</span>
<span class="c1">/// NEW or CREATE | Create a new file and open it for writing, if the file already exists the file is not opened.</span>
<span class="c1">/// RECREATE      | Create a new file, if the file already exists it will be overwritten.</span>
<span class="c1">/// UPDATE        | Open an existing file for writing. If no file exists, it is created.</span>
<span class="c1">/// READ          | Open an existing file for reading (default).</span>
<span class="c1">/// NET           | Used by derived remote file access classes, not a user callable option.</span>
<span class="c1">/// WEB           | Used by derived remote http access class, not a user callable option.</span>
<span class="c1">/// If option = &quot;&quot; (default), READ is assumed.</span>
<span class="c1">/// The file can be specified as a URL of the form:</span>
<span class="c1">///     file:///user/rdm/bla.root or file:/user/rdm/bla.root</span>
<span class="c1">/// The file can also be a member of an archive, in which case it is</span>
<span class="c1">/// specified as:</span>
<span class="c1">///     multi.zip#file.root or multi.zip#0</span>
<span class="c1">/// which will open file.root which is a member of the file multi.zip</span>
<span class="c1">/// archive or member 1 from the archive. For more on archive file</span>
<span class="c1">/// support see the TArchiveFile class.</span>
<span class="c1">/// TFile and its remote access plugins can also be used to open any</span>
<span class="c1">/// file, i.e. also non ROOT files, using:</span>
<span class="c1">///     file.tar?filetype=raw</span>
<span class="c1">/// This is convenient because the many remote file access plugins allow</span>
<span class="c1">/// easy access to/from the many different mass storage systems.</span>
<span class="c1">/// The title of the file (ftitle) will be shown by the ROOT browsers.</span>
<span class="c1">/// A ROOT file (like a Unix file system) may contain objects and</span>
<span class="c1">/// directories. There are no restrictions for the number of levels</span>
<span class="c1">/// of directories.</span>
<span class="c1">/// A ROOT file is designed such that one can write in the file in pure</span>
<span class="c1">/// sequential mode (case of BATCH jobs). In this case, the file may be</span>
<span class="c1">/// read sequentially again without using the file index written</span>
<span class="c1">/// at the end of the file. In case of a job crash, all the information</span>
<span class="c1">/// on the file is therefore protected.</span>
<span class="c1">/// A ROOT file can be used interactively. In this case, one has the</span>
<span class="c1">/// possibility to delete existing objects and add new ones.</span>
<span class="c1">/// When an object is deleted from the file, the freed space is added</span>
<span class="c1">/// into the FREE linked list (fFree). The FREE list consists of a chain</span>
<span class="c1">/// of consecutive free segments on the file. At the same time, the first</span>
<span class="c1">/// 4 bytes of the freed record on the file are overwritten by GAPSIZE</span>
<span class="c1">/// where GAPSIZE = -(Number of bytes occupied by the record).</span>
<span class="c1">/// Option compress is used to specify the compression level and algorithm:</span>
<span class="c1">///     compress = 100 * algorithm + level</span>
<span class="c1">/// Level | Explanation</span>
<span class="c1">/// ------|-------------</span>
<span class="c1">/// 0   | objects written to this file will not be compressed.</span>
<span class="c1">/// 1   | minimal compression level but fast.</span>
<span class="c1">/// ... | ....</span>
<span class="c1">/// 9   | maximal compression level but slower and might use more memory.</span>
<span class="c1">/// (For the currently supported algorithms, the maximum level is 9)</span>
<span class="c1">/// If compress is negative it indicates the compression level is not set yet.</span>
<span class="c1">/// The enumeration ROOT::ECompressionAlgorithm associates each</span>
<span class="c1">/// algorithm with a number. There is a utility function to help</span>
<span class="c1">/// to set the value of compress. For example,</span>
<span class="c1">///     ROOT::CompressionSettings(ROOT::kLZMA, 1)</span>
<span class="c1">/// will build an integer which will set the compression to use</span>
<span class="c1">/// the LZMA algorithm and compression level 1.  These are defined</span>
<span class="c1">/// in the header file &lt;em&gt;Compression.h&lt;/em&gt;.</span>
<span class="c1">/// Note that the compression settings may be changed at any time.</span>
<span class="c1">/// The new compression settings will only apply to branches created</span>
<span class="c1">/// or attached after the setting is changed and other objects written</span>
<span class="c1">/// after the setting is changed.</span>
<span class="c1">/// In case the file does not exist or is not a valid ROOT file,</span>
<span class="c1">/// it is made a Zombie. One can detect this situation with a code like:</span>
<span class="c1">/// ~~~{.cpp}</span>
<span class="c1">/// TFile f(&quot;file.root&quot;);</span>
<span class="c1">/// if (f.IsZombie()) {</span>
<span class="c1">///    std::cout &lt;&lt; &quot;Error opening file&quot; &lt;&lt; std::endl;</span>
<span class="c1">///    exit(-1);</span>
<span class="c1">/// }</span>
<span class="c1">/// ~~~</span>
<span class="c1">///  When opening the file, the system checks the validity of this directory.</span>
<span class="c1">///  If something wrong is detected, an automatic Recovery is performed. In</span>
<span class="c1">///  this case, the file is scanned sequentially reading all logical blocks</span>
<span class="c1">///  and attempting to rebuild a correct directory (see TFile::Recover).</span>
<span class="c1">///  One can disable the automatic recovery procedure when reading one</span>
<span class="c1">///  or more files by setting the environment variable &quot;TFile.Recover: 0&quot;</span>
<span class="c1">///  in the system.rootrc file.</span>

   <span class="k">virtual</span> <span class="o">~</span><span class="n">TFile</span><span class="p">();</span>
   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">Close</span><span class="p">(</span><span class="n">Option_t</span> <span class="o">*</span><span class="n">option</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">);</span> <span class="c1">// *MENU*</span>
<span class="c1">/// Close a file.</span>
<span class="c1">/// \param[in] option If option == &quot;R&quot;, all TProcessIDs referenced by this file are deleted.</span>
<span class="c1">/// Calling TFile::Close(&quot;R&quot;) might be necessary in case one reads a long list</span>
<span class="c1">/// of files having TRef, writing some of the referenced objects or TRef</span>
<span class="c1">/// to a new file. If the TRef or referenced objects of the file being closed</span>
<span class="c1">/// will not be referenced again, it is possible to minimize the size</span>
<span class="c1">/// of the TProcessID data structures in memory by forcing a delete of</span>
<span class="c1">/// the unused TProcessID.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">Copy</span><span class="p">(</span><span class="n">TObject</span> <span class="o">&amp;</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span> <span class="n">MayNotUse</span><span class="p">(</span><span class="s">&quot;Copy(TObject &amp;)&quot;</span><span class="p">);</span> <span class="p">}</span>
   <span class="k">virtual</span> <span class="n">Bool_t</span>      <span class="nf">Cp</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">dst</span><span class="p">,</span> <span class="n">Bool_t</span> <span class="n">progressbar</span> <span class="o">=</span> <span class="n">kTRUE</span><span class="p">,</span><span class="n">UInt_t</span> <span class="n">buffersize</span> <span class="o">=</span> <span class="mi">1000000</span><span class="p">);</span>
<span class="c1">/// Allows to copy this file to the dst URL. Returns kTRUE in case of success,</span>
<span class="c1">/// kFALSE otherwise.</span>

   <span class="k">virtual</span> <span class="n">TKey</span><span class="o">*</span>       <span class="nf">CreateKey</span><span class="p">(</span><span class="n">TDirectory</span><span class="o">*</span> <span class="n">mother</span><span class="p">,</span> <span class="k">const</span> <span class="n">TObject</span><span class="o">*</span> <span class="n">obj</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">bufsize</span><span class="p">);</span>
<span class="c1">/// Creates key for object and converts data to buffer.</span>

   <span class="k">virtual</span> <span class="n">TKey</span><span class="o">*</span>       <span class="nf">CreateKey</span><span class="p">(</span><span class="n">TDirectory</span><span class="o">*</span> <span class="n">mother</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">obj</span><span class="p">,</span> <span class="k">const</span> <span class="n">TClass</span><span class="o">*</span> <span class="n">cl</span><span class="p">,</span>
                                 <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">bufsize</span><span class="p">);</span>
<span class="c1">/// Creates key for object and converts data to buffer.</span>

   <span class="k">static</span> <span class="n">TFile</span>      <span class="o">*&amp;</span><span class="n">CurrentFile</span><span class="p">();</span> <span class="c1">// Return the current file for this thread.</span>
<span class="c1">/// Return the current ROOT file if any.</span>
<span class="c1">/// Note that if &#39;cd&#39; has been called on a TDirectory that does not belong to a file,</span>
<span class="c1">/// gFile will be unchanged and still points to the file of the previous current</span>
<span class="c1">/// directory that was a file.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">Delete</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">namecycle</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="c1">/// Delete object namecycle.</span>
<span class="c1">/// \param[in] namecycle Encodes the name and cycle of the objects to delete</span>
<span class="c1">/// Namecycle identifies an object in the top directory of the file namecycle</span>
<span class="c1">/// has the format &lt;em&gt;name;cycle&lt;/em&gt;.</span>
<span class="c1">///   - &lt;em&gt;name  = *&lt;/em&gt; means all objects</span>
<span class="c1">///   - &lt;em&gt;cycle = *&lt;/em&gt; means all cycles (memory and keys)</span>
<span class="c1">///   - &lt;em&gt;cycle = &quot;&quot;&lt;/em&gt; or cycle = 9999 ==&gt; apply to a memory object</span>
<span class="c1">/// When name=* use T* to delete subdirectories also</span>
<span class="c1">/// Examples:</span>
<span class="c1">/// name/cycle | Action</span>
<span class="c1">/// -----------|-------</span>
<span class="c1">/// foo   | delete object named foo in memory</span>
<span class="c1">/// foo;1 | delete cycle 1 of foo on file</span>
<span class="c1">/// foo;* | delete all cycles of foo on disk and also from memory</span>
<span class="c1">/// *;2   | delete all objects on file having the cycle 2</span>
<span class="c1">/// *;*   | delete all objects from memory and file</span>
<span class="c1">/// T*;*  | delete all objects from memory and file and all subdirectories</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">Draw</span><span class="p">(</span><span class="n">Option_t</span> <span class="o">*</span><span class="n">option</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="c1">/// Fill Graphics Structure and Paint.</span>
<span class="c1">/// Loop on all objects (memory or file) and all subdirectories.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">DrawMap</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">keys</span><span class="o">=</span><span class="s">&quot;*&quot;</span><span class="p">,</span><span class="n">Option_t</span> <span class="o">*</span><span class="n">option</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">);</span> <span class="c1">// *MENU*</span>
<span class="c1">/// Draw map of objects in this file.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">FillBuffer</span><span class="p">(</span><span class="kt">char</span> <span class="o">*&amp;</span><span class="n">buffer</span><span class="p">);</span>
<span class="c1">/// Encode file output buffer.</span>
<span class="c1">/// The file output buffer contains only the FREE data record.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">Flush</span><span class="p">();</span>
<span class="c1">/// Synchronize a file&#39;s in-memory and on-disk states.</span>

   <span class="n">TArchiveFile</span>       <span class="o">*</span><span class="nf">GetArchive</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">fArchive</span><span class="p">;</span> <span class="p">}</span>
   <span class="n">Long64_t</span>            <span class="nf">GetArchiveOffset</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">fArchiveOffset</span><span class="p">;</span> <span class="p">}</span>
   <span class="n">Int_t</span>               <span class="nf">GetBestBuffer</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
<span class="c1">/// Return the best buffer size of objects on this file.</span>
<span class="c1">/// The best buffer size is estimated based on the current mean value</span>
<span class="c1">/// and standard deviation of all objects written so far to this file.</span>
<span class="c1">/// Returns mean value + one standard deviation.</span>

   <span class="k">virtual</span> <span class="n">Int_t</span>       <span class="nf">GetBytesToPrefetch</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
<span class="c1">/// Max number of bytes to prefetch.</span>
<span class="c1">/// By default this is 75% of the</span>
<span class="c1">/// read cache size. But specific TFile implementations may need to change it</span>

   <span class="n">TFileCacheRead</span>     <span class="o">*</span><span class="nf">GetCacheRead</span><span class="p">(</span><span class="n">TObject</span><span class="o">*</span> <span class="n">tree</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
   <span class="n">TFileCacheWrite</span>    <span class="o">*</span><span class="nf">GetCacheWrite</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
   <span class="n">TArrayC</span>            <span class="o">*</span><span class="nf">GetClassIndex</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">fClassIndex</span><span class="p">;</span> <span class="p">}</span>
   <span class="n">Int_t</span>               <span class="nf">GetCompressionAlgorithm</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
   <span class="n">Int_t</span>               <span class="nf">GetCompressionLevel</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
   <span class="n">Int_t</span>               <span class="nf">GetCompressionSettings</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
   <span class="n">Float_t</span>             <span class="nf">GetCompressionFactor</span><span class="p">();</span>
<span class="c1">/// Return the file compression factor.</span>
<span class="c1">/// Add total number of compressed/uncompressed bytes for each key.</span>
<span class="c1">/// Returns the ratio of the two.</span>

   <span class="k">virtual</span> <span class="n">Long64_t</span>    <span class="nf">GetEND</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">fEND</span><span class="p">;</span> <span class="p">}</span>
   <span class="k">virtual</span> <span class="n">Int_t</span>       <span class="nf">GetErrno</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">ResetErrno</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
   <span class="n">Int_t</span>               <span class="nf">GetFd</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">fD</span><span class="p">;</span> <span class="p">}</span>
   <span class="k">virtual</span> <span class="k">const</span> <span class="n">TUrl</span> <span class="o">*</span><span class="nf">GetEndpointUrl</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="o">&amp;</span><span class="n">fUrl</span><span class="p">;</span> <span class="p">}</span>
   <span class="n">TObjArray</span>          <span class="o">*</span><span class="nf">GetListOfProcessIDs</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">fProcessIDs</span><span class="p">;}</span>
   <span class="n">TList</span>              <span class="o">*</span><span class="nf">GetListOfFree</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">fFree</span><span class="p">;</span> <span class="p">}</span>
   <span class="k">virtual</span> <span class="n">Int_t</span>       <span class="nf">GetNfree</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">fFree</span><span class="o">-&gt;</span><span class="n">GetSize</span><span class="p">();</span> <span class="p">}</span>
   <span class="k">virtual</span> <span class="n">Int_t</span>       <span class="nf">GetNProcessIDs</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">fNProcessIDs</span><span class="p">;</span> <span class="p">}</span>
   <span class="n">Option_t</span>           <span class="o">*</span><span class="nf">GetOption</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">fOption</span><span class="p">.</span><span class="n">Data</span><span class="p">();</span> <span class="p">}</span>
   <span class="k">virtual</span> <span class="n">Long64_t</span>    <span class="nf">GetBytesRead</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">fBytesRead</span><span class="p">;</span> <span class="p">}</span>
   <span class="k">virtual</span> <span class="n">Long64_t</span>    <span class="nf">GetBytesReadExtra</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">fBytesReadExtra</span><span class="p">;</span> <span class="p">}</span>
   <span class="k">virtual</span> <span class="n">Long64_t</span>    <span class="nf">GetBytesWritten</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
<span class="c1">/// Return the total number of bytes written so far to the file.</span>

   <span class="k">virtual</span> <span class="n">Int_t</span>       <span class="nf">GetReadCalls</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">fReadCalls</span><span class="p">;</span> <span class="p">}</span>
   <span class="n">Int_t</span>               <span class="nf">GetVersion</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">fVersion</span><span class="p">;</span> <span class="p">}</span>
   <span class="n">Int_t</span>               <span class="nf">GetRecordHeader</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="n">Long64_t</span> <span class="n">first</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">maxbytes</span><span class="p">,</span>
                                       <span class="n">Int_t</span> <span class="o">&amp;</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">Int_t</span> <span class="o">&amp;</span><span class="n">objlen</span><span class="p">,</span> <span class="n">Int_t</span> <span class="o">&amp;</span><span class="n">keylen</span><span class="p">);</span>
<span class="c1">/// Read the logical record header starting at a certain postion.</span>
<span class="c1">/// \param[in] maxbytes Bytes which are read into buf.</span>
<span class="c1">/// \param[out] nbytes Number of bytes in record if negative, this is a deleted</span>
<span class="c1">/// record if 0, cannot read record, wrong value of argument first</span>
<span class="c1">/// \param[out] objlen Uncompressed object size</span>
<span class="c1">/// \param[out] keylen Length of logical record header</span>
<span class="c1">/// The function reads nread bytes</span>
<span class="c1">/// where nread is the minimum of maxbytes and the number of bytes</span>
<span class="c1">/// before the end of file. The function returns nread.</span>
<span class="c1">/// Note that the arguments objlen and keylen are returned only</span>
<span class="c1">/// if maxbytes &gt;=16</span>

   <span class="k">virtual</span> <span class="n">Int_t</span>       <span class="nf">GetNbytesInfo</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">fNbytesInfo</span><span class="p">;}</span>
   <span class="k">virtual</span> <span class="n">Int_t</span>       <span class="nf">GetNbytesFree</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">fNbytesFree</span><span class="p">;}</span>
   <span class="k">virtual</span> <span class="n">TString</span>     <span class="nf">GetNewUrl</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s">&quot;&quot;</span><span class="p">;</span> <span class="p">}</span>
   <span class="n">Long64_t</span>            <span class="nf">GetRelOffset</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">fOffset</span> <span class="o">-</span> <span class="n">fArchiveOffset</span><span class="p">;</span> <span class="p">}</span>
   <span class="k">virtual</span> <span class="n">Long64_t</span>    <span class="nf">GetSeekFree</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">fSeekFree</span><span class="p">;}</span>
   <span class="k">virtual</span> <span class="n">Long64_t</span>    <span class="nf">GetSeekInfo</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">fSeekInfo</span><span class="p">;}</span>
   <span class="k">virtual</span> <span class="n">Long64_t</span>    <span class="nf">GetSize</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
<span class="c1">/// Returns the current file size. Returns -1 in case the file could not</span>
<span class="c1">/// be stat&#39;ed.</span>

   <span class="k">virtual</span> <span class="n">TList</span>      <span class="o">*</span><span class="nf">GetStreamerInfoList</span><span class="p">();</span>
<span class="c1">/// Read the list of TStreamerInfo objects written to this file.</span>
<span class="c1">/// The function returns a TList. It is the user&#39;s responsibility</span>
<span class="c1">/// to delete the list created by this function.</span>

   <span class="k">const</span>   <span class="n">TList</span>      <span class="o">*</span><span class="nf">GetStreamerInfoCache</span><span class="p">();</span>
   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">IncrementProcessIDs</span><span class="p">()</span> <span class="p">{</span> <span class="n">fNProcessIDs</span><span class="o">++</span><span class="p">;</span> <span class="p">}</span>
   <span class="k">virtual</span> <span class="n">Bool_t</span>      <span class="nf">IsArchive</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">fIsArchive</span><span class="p">;</span> <span class="p">}</span>
           <span class="n">Bool_t</span>      <span class="nf">IsBinary</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">TestBit</span><span class="p">(</span><span class="n">kBinaryFile</span><span class="p">);</span> <span class="p">}</span>
           <span class="n">Bool_t</span>      <span class="nf">IsRaw</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="o">!</span><span class="n">fIsRootFile</span><span class="p">;</span> <span class="p">}</span>
   <span class="k">virtual</span> <span class="n">Bool_t</span>      <span class="nf">IsOpen</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span><span class="c1">/// Returns kTRUE in case file is open and kFALSE if file is not open.</span>
   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">ls</span><span class="p">(</span><span class="n">Option_t</span> <span class="o">*</span><span class="n">option</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
<span class="c1">/// List file contents.</span>
<span class="c1">/// Indentation is used to identify the file tree.</span>
<span class="c1">/// Subdirectories are listed first, then objects in memory,</span>
<span class="c1">/// then objects on the file.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">MakeFree</span><span class="p">(</span><span class="n">Long64_t</span> <span class="n">first</span><span class="p">,</span> <span class="n">Long64_t</span> <span class="n">last</span><span class="p">);</span>
<span class="c1">/// Mark unused bytes on the file.</span>
<span class="c1">/// The list of free segments is in the fFree linked list.</span>
<span class="c1">/// When an object is deleted from the file, the freed space is added</span>
<span class="c1">/// into the FREE linked list (fFree). The FREE list consists of a chain</span>
<span class="c1">/// of consecutive free segments on the file. At the same time, the first</span>
<span class="c1">/// 4 bytes of the freed record on the file are overwritten by GAPSIZE</span>
<span class="c1">/// where GAPSIZE = -(Number of bytes occupied by the record).</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">MakeProject</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">dirname</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">classes</span><span class="o">=</span><span class="s">&quot;*&quot;</span><span class="p">,</span>
                                   <span class="n">Option_t</span> <span class="o">*</span><span class="n">option</span><span class="o">=</span><span class="s">&quot;new&quot;</span><span class="p">);</span> <span class="c1">// *MENU*</span>
<span class="c1">/// Generate source code necessary to access the objects stored in the file.</span>
<span class="c1">/// Generate code in directory dirname for all classes specified in</span>
<span class="c1">/// argument classes If classes = &quot;*&quot; (default and currently the</span>
<span class="c1">/// only supported value), the function generates an include file</span>
<span class="c1">/// for each class in the StreamerInfo list for which a TClass</span>
<span class="c1">/// object does not exist.</span>
<span class="c1">/// The code generated includes:</span>
<span class="c1">///   - dirnameProjectHeaders.h, which contains one #include statement per generated header file</span>
<span class="c1">///   - dirnameProjectSource.cxx,which contains all the constructors and destructors implementation.</span>
<span class="c1">/// and one header per class that is not nested inside another class.</span>
<span class="c1">/// The header file name is the fully qualified name of the class after all the special characters</span>
<span class="c1">/// &quot;&lt;&gt;,:&quot; are replaced by underscored.  For example for std::pair&lt;edm::Vertex,int&gt; the file name is</span>
<span class="c1">/// pair_edm__Vertex_int_.h</span>
<span class="c1">/// In the generated classes, map, multimap when the first template parameter is a class</span>
<span class="c1">/// are replaced by a vector of pair. set and multiset when the tempalte parameter</span>
<span class="c1">/// is a class are replaced by a vector. This is required since we do not have the</span>
<span class="c1">/// code needed to order and/or compare the object of the classes.</span>
<span class="c1">/// This is a quick explanation of the options available:</span>
<span class="c1">/// Option | Details</span>
<span class="c1">/// -------|--------</span>
<span class="c1">/// new (default) | A new directory dirname is created. If dirname already exist, an error message is printed and the function returns.</span>
<span class="c1">/// recreate      | If dirname does not exist, it is created (like in &quot;new&quot;). If dirname already exist, all existing files in dirname are deleted before creating the new files.</span>
<span class="c1">/// update        | New classes are added to the existing directory. Existing classes with the same name are replaced by the new definition. If the directory dirname doest not exist, same effect as &quot;new&quot;.</span>
<span class="c1">/// genreflex     | Use genreflex rather than rootcint to generate the dictionary.</span>
<span class="c1">/// par           | Create a PAR file with the minimal set of code needed to read the content of the ROOT file. The name of the PAR file is basename(dirname), with extension &#39;.par&#39; enforced; the PAR file will be created at dirname(dirname).</span>
<span class="c1">/// If, in addition to one of the 3 above options, the option &quot;+&quot; is specified,</span>
<span class="c1">/// the function will generate:</span>
<span class="c1">///   - a script called MAKEP to build the shared lib</span>
<span class="c1">///   - a dirnameLinkDef.h file</span>
<span class="c1">///   - rootcint will be run to generate a dirnameProjectDict.cxx file</span>
<span class="c1">///   - dirnameProjectDict.cxx will be compiled with the current options in compiledata.h</span>
<span class="c1">///   - a shared lib dirname.so will be created.</span>
<span class="c1">/// If the option &quot;++&quot; is specified, the generated shared lib is dynamically</span>
<span class="c1">/// linked with the current executable module.</span>
<span class="c1">/// If the option &quot;+&quot; and &quot;nocompile&quot; are specified, the utility files are generated</span>
<span class="c1">/// as in the option &quot;+&quot; but they are not executed.</span>
<span class="c1">/// Example:</span>
<span class="c1">///  file.MakeProject(&quot;demo&quot;,&quot;*&quot;,&quot;recreate++&quot;);</span>
<span class="c1">///   - creates a new directory demo unless it already exist</span>
<span class="c1">///   - clear the previous directory content</span>
<span class="c1">///   - generate the xxx.h files for all classes xxx found in this file</span>
<span class="c1">///    and not yet known to the CINT dictionary.</span>
<span class="c1">///   - creates the build script MAKEP</span>
<span class="c1">///   - creates a LinkDef.h file</span>
<span class="c1">///   - runs rootcint generating demoProjectDict.cxx</span>
<span class="c1">///   - compiles demoProjectDict.cxx into demoProjectDict.o</span>
<span class="c1">///   - generates a shared lib demo.so</span>
<span class="c1">///   - dynamically links the shared lib demo.so to the executable</span>
<span class="c1">///  If only the option &quot;+&quot; had been specified, one can still link the</span>
<span class="c1">///  shared lib to the current executable module with:</span>
<span class="c1">///      gSystem-&gt;load(&quot;demo/demo.so&quot;);</span>
<span class="c1">/// The following feature is not yet enabled:</span>
<span class="c1">/// One can restrict the list of classes to be generated by using expressions like:</span>
<span class="c1">///     classes = &quot;Ali*&quot; generate code only for classes starting with Ali</span>
<span class="c1">///     classes = &quot;myClass&quot; generate code for class MyClass only.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">Map</span><span class="p">();</span> <span class="c1">// *MENU*</span>
<span class="c1">/// List the contents of a file sequentially.</span>
<span class="c1">/// For each logical record found, it prints:</span>
<span class="c1">///     Date/Time  Record_Adress Logical_Record_Length  ClassName  CompressionFactor</span>
<span class="c1">/// Example of output</span>
<span class="c1">///     20010404/150437  At:64        N=150       TFile</span>
<span class="c1">///     20010404/150440  At:214       N=28326     TBasket        CX =  1.13</span>
<span class="c1">///     20010404/150440  At:28540     N=29616     TBasket        CX =  1.08</span>
<span class="c1">///     20010404/150440  At:58156     N=29640     TBasket        CX =  1.08</span>
<span class="c1">///     20010404/150440  At:87796     N=29076     TBasket        CX =  1.10</span>
<span class="c1">///     20010404/150440  At:116872    N=10151     TBasket        CX =  3.15</span>
<span class="c1">///     20010404/150441  At:127023    N=28341     TBasket        CX =  1.13</span>
<span class="c1">///     20010404/150441  At:155364    N=29594     TBasket        CX =  1.08</span>
<span class="c1">///     20010404/150441  At:184958    N=29616     TBasket        CX =  1.08</span>
<span class="c1">///     20010404/150441  At:214574    N=29075     TBasket        CX =  1.10</span>
<span class="c1">///     20010404/150441  At:243649    N=9583      TBasket        CX =  3.34</span>
<span class="c1">///     20010404/150442  At:253232    N=28324     TBasket        CX =  1.13</span>
<span class="c1">///     20010404/150442  At:281556    N=29641     TBasket        CX =  1.08</span>
<span class="c1">///     20010404/150442  At:311197    N=29633     TBasket        CX =  1.08</span>
<span class="c1">///     20010404/150442  At:340830    N=29091     TBasket        CX =  1.10</span>
<span class="c1">///     20010404/150442  At:369921    N=10341     TBasket        CX =  3.09</span>
<span class="c1">///     20010404/150442  At:380262    N=509       TH1F           CX =  1.93</span>
<span class="c1">///     20010404/150442  At:380771    N=1769      TH2F           CX =  4.32</span>
<span class="c1">///     20010404/150442  At:382540    N=1849      TProfile       CX =  1.65</span>
<span class="c1">///     20010404/150442  At:384389    N=18434     TNtuple        CX =  4.51</span>
<span class="c1">///     20010404/150442  At:402823    N=307       KeysList</span>
<span class="c1">///     20010404/150443  At:403130    N=4548      StreamerInfo   CX =  3.65</span>
<span class="c1">///     20010404/150443  At:407678    N=86        FreeSegments</span>
<span class="c1">///     20010404/150443  At:407764    N=1         END</span>

   <span class="k">virtual</span> <span class="n">Bool_t</span>      <span class="nf">Matches</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">);</span>
<span class="c1">/// Return kTRUE if &#39;url&#39; matches the coordinates of this file.</span>
<span class="c1">/// The check is implementation dependent and may need to be overload</span>
<span class="c1">/// by each TFile implementation relying on this check.</span>
<span class="c1">/// The default implementation checks the file name only.</span>

   <span class="k">virtual</span> <span class="n">Bool_t</span>      <span class="nf">MustFlush</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span><span class="k">return</span> <span class="n">fMustFlush</span><span class="p">;}</span>
   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">Paint</span><span class="p">(</span><span class="n">Option_t</span> <span class="o">*</span><span class="n">option</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="c1">/// Paint all objects in the file.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">Print</span><span class="p">(</span><span class="n">Option_t</span> <span class="o">*</span><span class="n">option</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
<span class="c1">/// Print all objects in the file.</span>

   <span class="k">virtual</span> <span class="n">Bool_t</span>      <span class="nf">ReadBufferAsync</span><span class="p">(</span><span class="n">Long64_t</span> <span class="n">offs</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">len</span><span class="p">);</span>
   <span class="k">virtual</span> <span class="n">Bool_t</span>      <span class="nf">ReadBuffer</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">len</span><span class="p">);</span>
<span class="c1">/// Read a buffer from the file. This is the basic low level read operation.</span>
<span class="c1">/// Returns kTRUE in case of failure.</span>

   <span class="k">virtual</span> <span class="n">Bool_t</span>      <span class="nf">ReadBuffer</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="n">Long64_t</span> <span class="n">pos</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">len</span><span class="p">);</span>
<span class="c1">/// Read a buffer from the file at the offset &#39;pos&#39; in the file.</span>
<span class="c1">/// Returns kTRUE in case of failure.</span>
<span class="c1">/// Compared to ReadBuffer(char*, Int_t), this routine does _not_</span>
<span class="c1">/// change the cursor on the physical file representation (fD)</span>
<span class="c1">/// if the data is in this TFile&#39;s cache.</span>

   <span class="k">virtual</span> <span class="n">Bool_t</span>      <span class="nf">ReadBuffers</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="n">Long64_t</span> <span class="o">*</span><span class="n">pos</span><span class="p">,</span> <span class="n">Int_t</span> <span class="o">*</span><span class="n">len</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">nbuf</span><span class="p">);</span>
<span class="c1">/// Read the nbuf blocks described in arrays pos and len.</span>
<span class="c1">/// The value pos[i] is the seek position of block i of length len[i].</span>
<span class="c1">/// Note that for nbuf=1, this call is equivalent to TFile::ReafBuffer.</span>
<span class="c1">/// This function is overloaded by TNetFile, TWebFile, etc.</span>
<span class="c1">/// Returns kTRUE in case of failure.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">ReadFree</span><span class="p">();</span>
<span class="c1">/// Read the FREE linked list.</span>
<span class="c1">/// Every file has a linked list (fFree) of free segments.</span>
<span class="c1">/// This linked list has been written on the file via WriteFree</span>
<span class="c1">/// as a single data record.</span>

   <span class="k">virtual</span> <span class="n">TProcessID</span> <span class="o">*</span><span class="nf">ReadProcessID</span><span class="p">(</span><span class="n">UShort_t</span> <span class="n">pidf</span><span class="p">);</span>
<span class="c1">/// The TProcessID with number pidf is read from this file.</span>
<span class="c1">/// If the object is not already entered in the gROOT list, it is added.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">ReadStreamerInfo</span><span class="p">();</span>
<span class="c1">/// Read the list of StreamerInfo from this file.</span>
<span class="c1">/// The key with name holding the list of TStreamerInfo objects is read.</span>
<span class="c1">/// The corresponding TClass objects are updated.</span>
<span class="c1">/// Note that this function is not called if the static member fgReadInfo is false.</span>
<span class="c1">/// (see TFile::SetReadStreamerInfo)</span>

   <span class="k">virtual</span> <span class="n">Int_t</span>       <span class="nf">Recover</span><span class="p">();</span>
<span class="c1">/// Attempt to recover file if not correctly closed</span>
<span class="c1">/// The function returns the number of keys that have been recovered.</span>
<span class="c1">/// If no keys can be recovered, the file will be declared Zombie by</span>
<span class="c1">/// the calling function. This function is automatically called when</span>
<span class="c1">/// opening a file.</span>
<span class="c1">/// If the file is open in read only mode, the file is not modified.</span>
<span class="c1">/// If open in update mode and the function finds something to recover,</span>
<span class="c1">/// a new directory header is written to the file. When opening the file gain</span>
<span class="c1">/// no message from Recover will be reported.</span>
<span class="c1">/// If keys have been recovered, the file is usable and you can safely</span>
<span class="c1">/// read the corresponding objects.</span>
<span class="c1">/// If the file is not usable (a zombie), you can test for this case</span>
<span class="c1">/// with code like:</span>
<span class="c1">/// ~~~{.cpp}</span>
<span class="c1">/// TFile f(&quot;myfile.root&quot;);</span>
<span class="c1">/// if (f.IsZombie()) {&lt;actions to take if file is unusable&gt;}</span>
<span class="c1">/// ~~~</span>
<span class="c1">/// If the file has been recovered, the bit kRecovered is set in the TFile object in memory.</span>
<span class="c1">/// You can test if the file has been recovered with</span>
<span class="c1">///     if (f.TestBit(TFile::kRecovered)) {... the file has been recovered}</span>
<span class="c1">/// When writing TTrees to a file, it is important to save the Tree header</span>
<span class="c1">/// at regular intervals (see TTree::AutoSave). If a file containing a Tree</span>
<span class="c1">/// is recovered, the last Tree header written to the file will be used.</span>
<span class="c1">/// In this case all the entries in all the branches written before writing</span>
<span class="c1">/// the header are valid entries.</span>
<span class="c1">/// One can disable the automatic recovery procedure by setting</span>
<span class="c1">///     TFile.Recover 0</span>
<span class="c1">/// in the system.rootrc file.</span>

   <span class="k">virtual</span> <span class="n">Int_t</span>       <span class="nf">ReOpen</span><span class="p">(</span><span class="n">Option_t</span> <span class="o">*</span><span class="n">mode</span><span class="p">);</span>
<span class="c1">/// Reopen a file with a different access mode.</span>
<span class="c1">/// For example, it is possible to change from READ to</span>
<span class="c1">/// UPDATE or from NEW, CREATE, RECREATE, UPDATE to READ. Thus the</span>
<span class="c1">/// mode argument can be either &quot;READ&quot; or &quot;UPDATE&quot;. The method returns</span>
<span class="c1">/// 0 in case the mode was successfully modified, 1 in case the mode</span>
<span class="c1">/// did not change (was already as requested or wrong input arguments)</span>
<span class="c1">/// and -1 in case of failure, in which case the file cannot be used</span>
<span class="c1">/// anymore. The current directory (gFile) is changed to this file.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">Seek</span><span class="p">(</span><span class="n">Long64_t</span> <span class="n">offset</span><span class="p">,</span> <span class="n">ERelativeTo</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">kBeg</span><span class="p">);</span>
<span class="c1">/// Seek to a specific position in the file. Pos it either kBeg, kCur or kEnd.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">SetCacheRead</span><span class="p">(</span><span class="n">TFileCacheRead</span> <span class="o">*</span><span class="n">cache</span><span class="p">,</span> <span class="n">TObject</span><span class="o">*</span> <span class="n">tree</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ECacheAction</span> <span class="n">action</span> <span class="o">=</span> <span class="n">kDisconnect</span><span class="p">);</span>
<span class="c1">/// Set a pointer to the read cache.</span>
<span class="c1">/// This relinquishes ownership&lt;/b&gt; of the previous cache, so if you do not</span>
<span class="c1">/// already have a pointer to the previous cache (and there was a previous</span>
<span class="c1">/// cache), you ought to retrieve (and delete it if needed) using:</span>
<span class="c1">///     TFileCacheRead *older = myfile-&gt;GetCacheRead();</span>
<span class="c1">/// The action specifies how to behave when detaching a cache from the</span>
<span class="c1">/// the TFile.  If set to (default) kDisconnect, the contents of the cache</span>
<span class="c1">/// will be flushed when it is removed from the file, and it will disconnect</span>
<span class="c1">/// the cache object from the file.  In almost all cases, this is what you want.</span>
<span class="c1">/// If you want to disconnect the cache temporarily from this tree and re-attach</span>
<span class="c1">/// later to the same fil, you can set action to kDoNotDisconnect.  This will allow</span>
<span class="c1">/// things like prefetching to continue in the background while it is no longer the</span>
<span class="c1">/// default cache for the TTree.  Except for a few expert use cases, kDisconnect is</span>
<span class="c1">/// likely the correct setting.</span>
<span class="c1">/// WARNING: if action=kDoNotDisconnect, you MUST delete the cache before TFile.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">SetCacheWrite</span><span class="p">(</span><span class="n">TFileCacheWrite</span> <span class="o">*</span><span class="n">cache</span><span class="p">);</span>
<span class="c1">/// Set a pointer to the write cache.</span>
<span class="c1">/// If file is null the existing write cache is deleted.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">SetCompressionAlgorithm</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">algorithm</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span>
<span class="c1">/// See comments for function SetCompressionSettings</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">SetCompressionLevel</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
<span class="c1">/// See comments for function SetCompressionSettings</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">SetCompressionSettings</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">settings</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
<span class="c1">/// Used to specify the compression level and algorithm.</span>
<span class="c1">/// See the TFile constructor for the details.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">SetEND</span><span class="p">(</span><span class="n">Long64_t</span> <span class="n">last</span><span class="p">)</span> <span class="p">{</span> <span class="n">fEND</span> <span class="o">=</span> <span class="n">last</span><span class="p">;</span> <span class="p">}</span>
   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">SetOffset</span><span class="p">(</span><span class="n">Long64_t</span> <span class="n">offset</span><span class="p">,</span> <span class="n">ERelativeTo</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">kBeg</span><span class="p">);</span>
<span class="c1">/// Set position from where to start reading.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">SetOption</span><span class="p">(</span><span class="n">Option_t</span> <span class="o">*</span><span class="n">option</span><span class="o">=</span><span class="s">&quot;&gt;&quot;</span><span class="p">)</span> <span class="p">{</span> <span class="n">fOption</span> <span class="o">=</span> <span class="n">option</span><span class="p">;</span> <span class="p">}</span>
   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">SetReadCalls</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">readcalls</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="n">fReadCalls</span> <span class="o">=</span> <span class="n">readcalls</span><span class="p">;</span> <span class="p">}</span>
   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">ShowStreamerInfo</span><span class="p">();</span>
<span class="c1">/// Show the StreamerInfo of all classes written to this file.</span>

   <span class="k">virtual</span> <span class="n">Int_t</span>       <span class="nf">Sizeof</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
   <span class="kt">void</span>                <span class="nf">SumBuffer</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">bufsize</span><span class="p">);</span>
   <span class="k">virtual</span> <span class="n">Bool_t</span>      <span class="nf">WriteBuffer</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">len</span><span class="p">);</span>
<span class="c1">/// Write a buffer to the file. This is the basic low level write operation.</span>
<span class="c1">/// Returns kTRUE in case of failure.</span>

   <span class="k">virtual</span> <span class="n">Int_t</span>       <span class="nf">Write</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">opt</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">bufsiz</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span>
<span class="c1">/// Write memory objects to this file.</span>
<span class="c1">/// Loop on all objects in memory (including subdirectories).</span>
<span class="c1">/// A new key is created in the KEYS linked list for each object.</span>
<span class="c1">/// The list of keys is then saved on the file (via WriteKeys)</span>
<span class="c1">/// as a single data record.</span>
<span class="c1">/// For values of opt see TObject::Write().</span>
<span class="c1">/// The directory header info is rewritten on the directory header record.</span>
<span class="c1">/// The linked list of FREE segments is written.</span>
<span class="c1">/// The file header is written (bytes 1-&gt;fBEGIN).</span>

   <span class="k">virtual</span> <span class="n">Int_t</span>       <span class="nf">Write</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">opt</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">bufsiz</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
<span class="c1">/// One can not save a const TDirectory object.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">WriteFree</span><span class="p">();</span>
<span class="c1">/// Write FREE linked list on the file.</span>
<span class="c1">/// The linked list of FREE segments (fFree) is written as a single data</span>
<span class="c1">/// record.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">WriteHeader</span><span class="p">();</span>
<span class="c1">/// Write File Header.</span>

   <span class="k">virtual</span> <span class="n">UShort_t</span>    <span class="nf">WriteProcessID</span><span class="p">(</span><span class="n">TProcessID</span> <span class="o">*</span><span class="n">pid</span><span class="p">);</span>
<span class="c1">/// Check if the ProcessID pidd is already in the file,</span>
<span class="c1">/// if not, add it and return the index  number in the local file list.</span>

   <span class="k">virtual</span> <span class="kt">void</span>        <span class="nf">WriteStreamerInfo</span><span class="p">();</span>
<span class="c1">/// Write the list of TStreamerInfo as a single object in this file</span>
<span class="c1">/// The class Streamer description for all classes written to this file</span>
<span class="c1">/// is saved. See class TStreamerInfo.</span>

   <span class="k">static</span> <span class="n">TFileOpenHandle</span>
                      <span class="o">*</span><span class="nf">AsyncOpen</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">,</span> <span class="n">Option_t</span> <span class="o">*</span><span class="n">option</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
                                 <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">ftitle</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">compress</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
                                 <span class="n">Int_t</span> <span class="n">netopt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span>
<span class="c1">/// Submit an asynchronous open request.</span>
<span class="c1">/// See TFile::Open(const char *, ...) for an</span>
<span class="c1">/// explanation of the arguments. A handler is returned which is to be passed</span>
<span class="c1">/// to TFile::Open(TFileOpenHandle *) to get the real TFile instance once</span>
<span class="c1">/// the file is open.</span>
<span class="c1">/// This call never blocks and it is provided to allow parallel submission</span>
<span class="c1">/// of file opening operations expected to take a long time.</span>
<span class="c1">/// TFile::Open(TFileOpenHandle *) may block if the file is not yet ready.</span>
<span class="c1">/// The sequence</span>
<span class="c1">///     TFile::Open(TFile::AsyncOpen(const char *, ...))</span>
<span class="c1">/// is equivalent to</span>
<span class="c1">///     TFile::Open(const char *, ...)</span>
<span class="c1">/// To be effective, the underlying TFile implementation must be able to</span>
<span class="c1">/// support asynchronous open functionality. Currently, only TXNetFile</span>
<span class="c1">/// supports it. If the functionality is not implemented, this call acts</span>
<span class="c1">/// transparently by returning an handle with the arguments for the</span>
<span class="c1">/// standard synchronous open run by TFile::Open(TFileOpenHandle *).</span>
<span class="c1">/// The retuned handle will be adopted by TFile after opening completion</span>
<span class="c1">/// in TFile::Open(TFileOpenHandle *); if opening is not finalized the</span>
<span class="c1">/// handle must be deleted by the caller.</span>

   <span class="k">static</span> <span class="n">TFile</span>       <span class="o">*</span><span class="nf">Open</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">,</span> <span class="n">Option_t</span> <span class="o">*</span><span class="n">option</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span>
                            <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">ftitle</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">compress</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
                            <span class="n">Int_t</span> <span class="n">netopt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span>
<span class="c1">/// Create / open a file</span>
<span class="c1">/// The type of the file can be either a</span>
<span class="c1">/// TFile, TNetFile, TWebFile or any TFile derived class for which an</span>
<span class="c1">/// plugin library handler has been registered with the plugin manager</span>
<span class="c1">/// (for the plugin manager see the TPluginManager class). The returned</span>
<span class="c1">/// type of TFile depends on the file name specified by &#39;url&#39;.</span>
<span class="c1">/// If &#39;url&#39; is a &#39;|&#39;-separated list of file URLs, the &#39;URLs&#39; are tried</span>
<span class="c1">/// sequentially in the specified order until a successful open.</span>
<span class="c1">/// If the file starts with &quot;root:&quot;, &quot;roots:&quot; or &quot;rootk:&quot; a TNetFile object</span>
<span class="c1">/// will be returned, with &quot;http:&quot; a TWebFile, with &quot;file:&quot; a local TFile,</span>
<span class="c1">/// etc. (see the list of TFile plugin handlers in $ROOTSYS/etc/system.rootrc</span>
<span class="c1">/// for regular expressions that will be checked) and as last a local file will</span>
<span class="c1">/// be tried.</span>
<span class="c1">/// Before opening a file via TNetFile a check is made to see if the URL</span>
<span class="c1">/// specifies a local file. If that is the case the file will be opened</span>
<span class="c1">/// via a normal TFile. To force the opening of a local file via a</span>
<span class="c1">/// TNetFile use either TNetFile directly or specify as host &quot;localhost&quot;.</span>
<span class="c1">/// The netopt argument is only used by TNetFile. For the meaning of the</span>
<span class="c1">/// options and other arguments see the constructors of the individual</span>
<span class="c1">/// file classes. In case of error returns 0.</span>
<span class="c1">/// For TFile implementations supporting asynchronous file open, see</span>
<span class="c1">/// TFile::AsyncOpen(...), it is possible to request a timeout with the</span>
<span class="c1">/// option &lt;b&gt;TIMEOUT=&lt;secs&gt;&lt;/b&gt;: the timeout must be specified in seconds and</span>
<span class="c1">/// it will be internally checked with granularity of one millisec.</span>
<span class="c1">/// For remote files there is the option: &lt;b&gt;CACHEREAD&lt;/b&gt; opens an existing</span>
<span class="c1">/// file for reading through the file cache. The file will be downloaded to</span>
<span class="c1">/// the cache and opened from there. If the download fails, it will be opened remotely.</span>
<span class="c1">/// The file will be downloaded to the directory specified by SetCacheFileDir().</span>

   <span class="k">static</span> <span class="n">TFile</span>       <span class="o">*</span><span class="nf">Open</span><span class="p">(</span><span class="n">TFileOpenHandle</span> <span class="o">*</span><span class="n">handle</span><span class="p">);</span>
<span class="c1">/// Waits for the completion of an asynchronous open request.</span>
<span class="c1">/// Returns the pointer to the associated TFile, transferring ownership of the</span>
<span class="c1">/// handle to the TFile instance.</span>

   <span class="k">static</span> <span class="n">EFileType</span>    <span class="nf">GetType</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">,</span> <span class="n">Option_t</span> <span class="o">*</span><span class="n">option</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">TString</span> <span class="o">*</span><span class="n">prefix</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span>
<span class="c1">/// Resolve the file type as a function of the protocol field in &#39;name&#39;</span>
<span class="c1">/// If defined, the string &#39;prefix&#39; is added when testing the locality of</span>
<span class="c1">/// a &#39;name&#39; with network-like structure (i.e. root://host//path); if the file</span>
<span class="c1">/// is local, on return &#39;prefix&#39; will contain the actual local path of the file.</span>

   <span class="k">static</span> <span class="n">EAsyncOpenStatus</span> <span class="nf">GetAsyncOpenStatus</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">);</span>
<span class="c1">/// Get status of the async open request related to &#39;name&#39;.</span>

   <span class="k">static</span> <span class="n">EAsyncOpenStatus</span> <span class="nf">GetAsyncOpenStatus</span><span class="p">(</span><span class="n">TFileOpenHandle</span> <span class="o">*</span><span class="n">handle</span><span class="p">);</span>
<span class="c1">/// Get status of the async open request related to &#39;handle&#39;.</span>

   <span class="k">static</span> <span class="k">const</span> <span class="n">TUrl</span>  <span class="o">*</span><span class="nf">GetEndpointUrl</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">);</span>
<span class="c1">/// Get final URL for file being opened asynchronously.</span>
<span class="c1">/// Returns 0 is the information is not yet available.</span>

   <span class="k">static</span> <span class="n">Long64_t</span>     <span class="nf">GetFileBytesRead</span><span class="p">();</span>
   <span class="k">static</span> <span class="n">Long64_t</span>     <span class="nf">GetFileBytesWritten</span><span class="p">();</span>
<span class="c1">/// Static function returning the total number of bytes written to all files.</span>
<span class="c1">/// Does not take into account what might still be in the write caches.</span>

   <span class="k">static</span> <span class="n">Int_t</span>        <span class="nf">GetFileReadCalls</span><span class="p">();</span>
<span class="c1">/// Static function returning the total number of read calls from all files.</span>

   <span class="k">static</span> <span class="n">Int_t</span>        <span class="nf">GetReadaheadSize</span><span class="p">();</span>
<span class="c1">/// Static function returning the readahead buffer size.</span>

   <span class="k">static</span> <span class="kt">void</span>         <span class="nf">SetFileBytesRead</span><span class="p">(</span><span class="n">Long64_t</span> <span class="n">bytes</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span>
   <span class="k">static</span> <span class="kt">void</span>         <span class="nf">SetFileBytesWritten</span><span class="p">(</span><span class="n">Long64_t</span> <span class="n">bytes</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span>
   <span class="k">static</span> <span class="kt">void</span>         <span class="nf">SetFileReadCalls</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">readcalls</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span>
   <span class="k">static</span> <span class="kt">void</span>         <span class="nf">SetReadaheadSize</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">bufsize</span> <span class="o">=</span> <span class="mi">256000</span><span class="p">);</span>
   <span class="k">static</span> <span class="kt">void</span>         <span class="nf">SetReadStreamerInfo</span><span class="p">(</span><span class="n">Bool_t</span> <span class="n">readinfo</span><span class="o">=</span><span class="n">kTRUE</span><span class="p">);</span>
<span class="c1">/// Specify if the streamerinfos must be read at file opening.</span>
<span class="c1">/// If fgReadInfo is true (default) TFile::ReadStreamerInfo is called</span>
<span class="c1">///  when opening the file.</span>
<span class="c1">/// It may be interesting to set fgReadInfo to false to speedup the file</span>
<span class="c1">/// opening time or in case libraries containing classes referenced</span>
<span class="c1">/// by the file have not yet been loaded.</span>
<span class="c1">/// if fgReadInfo is false, one can still read the StreamerInfo with</span>
<span class="c1">///    myfile.ReadStreamerInfo();</span>

   <span class="k">static</span> <span class="n">Bool_t</span>       <span class="nf">GetReadStreamerInfo</span><span class="p">();</span>
<span class="c1">/// If the streamerinfos are to be read at file opening.</span>
<span class="c1">/// See TFile::SetReadStreamerInfo for more documentation.</span>

   <span class="k">static</span> <span class="n">Long64_t</span>     <span class="nf">GetFileCounter</span><span class="p">();</span>
   <span class="k">static</span> <span class="kt">void</span>         <span class="nf">IncrementFileCounter</span><span class="p">();</span>

   <span class="k">static</span> <span class="n">Bool_t</span>       <span class="nf">SetCacheFileDir</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">cacheDir</span><span class="p">,</span> <span class="n">Bool_t</span> <span class="n">operateDisconnected</span> <span class="o">=</span> <span class="n">kTRUE</span><span class="p">,</span>
                                       <span class="n">Bool_t</span> <span class="n">forceCacheread</span> <span class="o">=</span> <span class="n">kFALSE</span><span class="p">);</span>
<span class="c1">/// Sets the directory where to locally stage/cache remote files.</span>
<span class="c1">/// If the directory is not writable by us return kFALSE.</span>

   <span class="k">static</span> <span class="k">const</span> <span class="kt">char</span>  <span class="o">*</span><span class="nf">GetCacheFileDir</span><span class="p">();</span>
<span class="c1">/// Get the directory where to locally stage/cache remote files.</span>

   <span class="k">static</span> <span class="n">Bool_t</span>       <span class="nf">ShrinkCacheFileDir</span><span class="p">(</span><span class="n">Long64_t</span> <span class="n">shrinkSize</span><span class="p">,</span> <span class="n">Long_t</span> <span class="n">cleanupInteval</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span>
<span class="c1">/// Try to shrink the cache to the desired size.</span>
<span class="c1">/// With the clenupinterval you can specify the minimum amount of time after</span>
<span class="c1">/// the previous cleanup before the cleanup operation is repeated in</span>
<span class="c1">/// the cache directory</span>

   <span class="k">static</span> <span class="n">Bool_t</span>       <span class="nf">Cp</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">src</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">dst</span><span class="p">,</span> <span class="n">Bool_t</span> <span class="n">progressbar</span> <span class="o">=</span> <span class="n">kTRUE</span><span class="p">,</span>
                          <span class="n">UInt_t</span> <span class="n">buffersize</span> <span class="o">=</span> <span class="mi">1000000</span><span class="p">);</span>
<span class="c1">/// Allows to copy file from src to dst URL. Returns kTRUE in case of success,</span>
<span class="c1">/// kFALSE otherwise.</span>

   <span class="k">static</span> <span class="n">UInt_t</span>       <span class="nf">SetOpenTimeout</span><span class="p">(</span><span class="n">UInt_t</span> <span class="n">timeout</span><span class="p">);</span>  <span class="c1">// in ms</span>
<span class="c1">/// Sets open timeout time (in ms). Returns previous timeout value.</span>

   <span class="k">static</span> <span class="n">UInt_t</span>       <span class="nf">GetOpenTimeout</span><span class="p">();</span> <span class="c1">// in ms</span>
<span class="c1">/// Returns open timeout (in ms).</span>

   <span class="k">static</span> <span class="n">Bool_t</span>       <span class="nf">SetOnlyStaged</span><span class="p">(</span><span class="n">Bool_t</span> <span class="n">onlystaged</span><span class="p">);</span>
   <span class="k">static</span> <span class="n">Bool_t</span>       <span class="nf">GetOnlyStaged</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="code">
<h2>code<a class="headerlink" href="#code" title="永久链接至标题">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//打开文件</span>
<span class="n">TFile</span> <span class="nf">f</span><span class="p">(</span><span class="s">&quot;demo.root&quot;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">IsZombie</span><span class="p">())</span> <span class="p">{</span>
<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Error opening file&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="n">exit</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);}</span> 
<span class="k">else</span> <span class="p">{</span>
 <span class="p">.....</span>
 <span class="p">}</span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//多个cycle时候读取某一部分数据</span>
<span class="n">TTree</span> <span class="o">*</span><span class="n">tt</span><span class="p">;</span>
<span class="n">gFile</span><span class="o">-&gt;</span><span class="n">GetObject</span><span class="p">(</span><span class="s">&quot;NameOfTree;1&quot;</span><span class="p">,</span><span class="n">tt</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>//Saving/Reading Histograms to/from a File
//The following statements create a ROOT file and store a histogram on the file. Because TH1 derives from TNamed , the key identifier on the file is the histogram name:
TFile f(&quot;histos.root&quot;,&quot;new&quot;);
TH1F h1(&quot;hgaus&quot;,&quot;histo from a gaussian&quot;,100,-3,3);
h1.FillRandom(&quot;gaus&quot;,10000);
h1-&gt;Write();
//To read this histogram in another ROOT session, do:
TFile f(&quot;histos.root&quot;);
TH1F *h = (TH1F*)f.Get(&quot;hgaus&quot;);
One can save all histograms in memory to the file by:
file-&gt;Write();
For a more detailed explanation, see “Input/Output”.


TTree *fChain = (TTree*)gFile-&gt;Get(&quot;t&quot;);
Long64_t nentries = fChain-&gt;GetEntriesFast(); 
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// If the file is not usable (a zombie), you can test for this case</span>
<span class="c1">/// with code like:</span>
<span class="n">TFile</span> <span class="nf">f</span><span class="p">(</span><span class="s">&quot;myfile.root&quot;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">IsZombie</span><span class="p">())</span> <span class="p">{</span><span class="cm">/*&lt;actions to take if file is unusable&gt;*/</span><span class="p">}</span>

<span class="c1">/// If the file has been recovered, the bit kRecovered is set in the TFile object in memory.</span>
<span class="c1">/// You can test if the file has been recovered with</span>
<span class="k">if</span> <span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">TestBit</span><span class="p">(</span><span class="n">TFile</span><span class="o">::</span><span class="n">kRecovered</span><span class="p">))</span> <span class="p">{</span><span class="cm">/*... the file has been recovered*/</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// function  File::Map()</span>

<span class="c1">/// List the contents of a file sequentially.</span>
<span class="c1">/// For each logical record found, it prints:</span>
<span class="c1">///</span>
<span class="c1">///     Date/Time  Record_Adress Logical_Record_Length  ClassName  CompressionFactor</span>
<span class="c1">///</span>
<span class="c1">/// Example of output</span>
<span class="c1">///</span>
<span class="c1">///     20010404/150437  At:64        N=150       TFile</span>
<span class="c1">///     20010404/150440  At:214       N=28326     TBasket        CX =  1.13</span>
<span class="c1">///     20010404/150440  At:28540     N=29616     TBasket        CX =  1.08</span>
<span class="c1">///     20010404/150440  At:58156     N=29640     TBasket        CX =  1.08</span>
<span class="c1">///     20010404/150440  At:87796     N=29076     TBasket        CX =  1.10</span>
<span class="c1">///     20010404/150440  At:116872    N=10151     TBasket        CX =  3.15</span>
<span class="c1">///     20010404/150441  At:127023    N=28341     TBasket        CX =  1.13</span>
<span class="c1">///     20010404/150441  At:155364    N=29594     TBasket        CX =  1.08</span>
<span class="c1">///     20010404/150441  At:184958    N=29616     TBasket        CX =  1.08</span>
<span class="c1">///     20010404/150441  At:214574    N=29075     TBasket        CX =  1.10</span>
<span class="c1">///     20010404/150441  At:243649    N=9583      TBasket        CX =  3.34</span>
<span class="c1">///     20010404/150442  At:253232    N=28324     TBasket        CX =  1.13</span>
<span class="c1">///     20010404/150442  At:281556    N=29641     TBasket        CX =  1.08</span>
<span class="c1">///     20010404/150442  At:311197    N=29633     TBasket        CX =  1.08</span>
<span class="c1">///     20010404/150442  At:340830    N=29091     TBasket        CX =  1.10</span>
<span class="c1">///     20010404/150442  At:369921    N=10341     TBasket        CX =  3.09</span>
<span class="c1">///     20010404/150442  At:380262    N=509       TH1F           CX =  1.93</span>
<span class="c1">///     20010404/150442  At:380771    N=1769      TH2F           CX =  4.32</span>
<span class="c1">///     20010404/150442  At:382540    N=1849      TProfile       CX =  1.65</span>
<span class="c1">///     20010404/150442  At:384389    N=18434     TNtuple        CX =  4.51</span>
<span class="c1">///     20010404/150442  At:402823    N=307       KeysList</span>
<span class="c1">///     20010404/150443  At:403130    N=4548      StreamerInfo   CX =  3.65</span>
<span class="c1">///     20010404/150443  At:407678    N=86        FreeSegments</span>
<span class="c1">///     20010404/150443  At:407764    N=1         END</span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// function TFile::GetStreamerInfoList()</span>

<span class="c1">/// Read the list of TStreamerInfo objects written to this file.</span>
<span class="c1">/// The function returns a TList. It is the user&#39;s responsibility</span>
<span class="c1">/// to delete the list created by this function.</span>
<span class="c1">/// Using the list, one can access additional information, e.g.:</span>

<span class="n">TFile</span> <span class="nf">f</span><span class="p">(</span><span class="s">&quot;myfile.root&quot;</span><span class="p">);</span>
<span class="k">auto</span> <span class="n">list</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="n">GetStreamerInfoList</span><span class="p">();</span>
<span class="k">auto</span> <span class="n">info</span> <span class="o">=</span> <span class="p">(</span><span class="n">TStreamerInfo</span><span class="o">*</span><span class="p">)</span><span class="n">list</span><span class="o">-&gt;</span><span class="n">FindObject</span><span class="p">(</span><span class="s">&quot;MyClass&quot;</span><span class="p">);</span>
<span class="k">auto</span> <span class="n">classversionid</span> <span class="o">=</span> <span class="n">info</span><span class="o">-&gt;</span><span class="n">GetClassVersion</span><span class="p">();</span>
<span class="k">delete</span> <span class="n">list</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="example">
<h2>example<a class="headerlink" href="#example" title="永久链接至标题">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//文本读取数据存ROOT文件：</span>
<span class="cp">#include</span> <span class="cpf">&quot;Riostream.h&quot;</span><span class="cp"></span>
<span class="kt">void</span> <span class="nf">basic</span><span class="p">()</span> <span class="p">{</span>
<span class="c1">//  Read data from an ascii file and create a root file with an histogram and an ntuple.</span>
<span class="c1">// this file has 3 columns of float data</span>
   <span class="n">TString</span> <span class="n">dir</span> <span class="o">=</span> <span class="n">gSystem</span><span class="o">-&gt;</span><span class="n">UnixPathName</span><span class="p">(</span><span class="n">gInterpreter</span><span class="o">-&gt;</span><span class="n">GetCurrentMacroName</span><span class="p">());</span>
   <span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">dir</span><span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
   <span class="n">dir</span><span class="p">.</span><span class="n">ReplaceAll</span><span class="p">(</span><span class="s">&quot;basic.C&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">);</span>
   <span class="n">dir</span><span class="p">.</span><span class="n">ReplaceAll</span><span class="p">(</span><span class="s">&quot;/./&quot;</span><span class="p">,</span><span class="s">&quot;/&quot;</span><span class="p">);</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">dir</span><span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="c1">//当前目录路径</span>

   <span class="n">ifstream</span> <span class="n">in</span><span class="p">;</span>
   <span class="n">in</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="n">Form</span><span class="p">(</span><span class="s">&quot;%sbasic.dat&quot;</span><span class="p">,</span><span class="n">dir</span><span class="p">.</span><span class="n">Data</span><span class="p">()));</span>

   <span class="n">Float_t</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">;</span>
   <span class="n">Int_t</span> <span class="n">nlines</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="n">TFile</span> <span class="o">*</span><span class="n">f</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TFile</span><span class="p">(</span><span class="s">&quot;basic.root&quot;</span><span class="p">,</span><span class="s">&quot;RECREATE&quot;</span><span class="p">);</span>
   <span class="n">TH1F</span> <span class="o">*</span><span class="n">h1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TH1F</span><span class="p">(</span><span class="s">&quot;h1&quot;</span><span class="p">,</span><span class="s">&quot;x distribution&quot;</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>
   <span class="n">TNtuple</span> <span class="o">*</span><span class="n">ntuple</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TNtuple</span><span class="p">(</span><span class="s">&quot;ntuple&quot;</span><span class="p">,</span><span class="s">&quot;data from ascii file&quot;</span><span class="p">,</span><span class="s">&quot;x:y:z&quot;</span><span class="p">);</span>

   <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">in</span> <span class="o">&gt;&gt;</span> <span class="n">x</span> <span class="o">&gt;&gt;</span> <span class="n">y</span> <span class="o">&gt;&gt;</span> <span class="n">z</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">in</span><span class="p">.</span><span class="n">good</span><span class="p">())</span> <span class="k">break</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">nlines</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">)</span> <span class="n">printf</span><span class="p">(</span><span class="s">&quot;x=%8f, y=%8f, z=%8f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">);</span>
      <span class="n">h1</span><span class="o">-&gt;</span><span class="n">Fill</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
      <span class="n">ntuple</span><span class="o">-&gt;</span><span class="n">Fill</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">);</span>
      <span class="n">nlines</span><span class="o">++</span><span class="p">;</span>
   <span class="p">}</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot; found %d points</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">nlines</span><span class="p">);</span>

   <span class="n">in</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>

   <span class="n">f</span><span class="o">-&gt;</span><span class="n">Write</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">basic2</span><span class="p">()</span> <span class="p">{</span>
<span class="c1">//   example of macro to create can ntuple reading data from an ascii file.</span>
   <span class="n">TString</span> <span class="n">dir</span> <span class="o">=</span> <span class="n">gSystem</span><span class="o">-&gt;</span><span class="n">UnixPathName</span><span class="p">(</span><span class="n">gInterpreter</span><span class="o">-&gt;</span><span class="n">GetCurrentMacroName</span><span class="p">());</span>
   <span class="n">dir</span><span class="p">.</span><span class="n">ReplaceAll</span><span class="p">(</span><span class="s">&quot;basic2.C&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">);</span>
   <span class="n">dir</span><span class="p">.</span><span class="n">ReplaceAll</span><span class="p">(</span><span class="s">&quot;/./&quot;</span><span class="p">,</span><span class="s">&quot;/&quot;</span><span class="p">);</span>
   
   <span class="n">TFile</span> <span class="o">*</span><span class="n">f</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TFile</span><span class="p">(</span><span class="s">&quot;basic2.root&quot;</span><span class="p">,</span><span class="s">&quot;RECREATE&quot;</span><span class="p">);</span>
   <span class="n">TH1F</span> <span class="o">*</span><span class="n">h1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TH1F</span><span class="p">(</span><span class="s">&quot;h1&quot;</span><span class="p">,</span><span class="s">&quot;x distribution&quot;</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>
   <span class="n">TTree</span> <span class="o">*</span><span class="n">T</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TTree</span><span class="p">(</span><span class="s">&quot;ntuple&quot;</span><span class="p">,</span><span class="s">&quot;data from ascii file&quot;</span><span class="p">);</span>
   <span class="n">Long64_t</span> <span class="n">nlines</span> <span class="o">=</span> <span class="n">T</span><span class="o">-&gt;</span><span class="n">ReadFile</span><span class="p">(</span><span class="n">Form</span><span class="p">(</span><span class="s">&quot;%sbasic.dat&quot;</span><span class="p">,</span><span class="n">dir</span><span class="p">.</span><span class="n">Data</span><span class="p">()),</span><span class="s">&quot;x:y:z&quot;</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot; found %lld points</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">nlines</span><span class="p">);</span>
   <span class="n">T</span><span class="o">-&gt;</span><span class="n">Draw</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">,</span><span class="s">&quot;z&gt;2&quot;</span><span class="p">);</span>
   <span class="n">T</span><span class="o">-&gt;</span><span class="n">Write</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<!-- TFile.md ends here --></div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="TFileCacheWrite.html" class="btn btn-neutral float-right" title="TFileCacheWrite" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="TSystemDirectory.html" class="btn btn-neutral float-left" title="TSystemDirectory" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Hongyi Wu(吴鸿毅)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>