

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>TFractionFitter* &mdash; ROOT Note 1 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="TLinearFitter*" href="TLinearFitter.html" />
    <link rel="prev" title="TFitResultPtr" href="TFitResultPtr.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ROOT Note
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">简介</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">简介</a></li>
</ul>
<p class="caption"><span class="caption-text">base类的使用</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="README.html">类的使用</a></li>
<li class="toctree-l1"><a class="reference internal" href="TObject.html">TObject*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TTask.html">TTask+</a></li>
<li class="toctree-l1"><a class="reference internal" href="Buttons.html">Buttons*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TNamed.html">TNamed+</a></li>
<li class="toctree-l1"><a class="reference internal" href="TStyle.html">TStyle+</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSystem.html">TSystem*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TROOT.html">TROOT*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFolder.html">TFolder</a></li>
<li class="toctree-l1"><a class="reference internal" href="TEnv.html">TEnv</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMacro.html">TMacro</a></li>
<li class="toctree-l1"><a class="reference internal" href="TApplication.html">TApplication</a></li>
<li class="toctree-l1"><a class="reference internal" href="TProcessID.html">TProcessID</a></li>
<li class="toctree-l1"><a class="reference internal" href="TProcessUUID.html">TProcessUUID</a></li>
<li class="toctree-l1"><a class="reference internal" href="TString.html">TString+</a></li>
<li class="toctree-l1"><a class="reference internal" href="TColor.html">TColor*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBase64.html">TBase64</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMD5.html">TMD5</a></li>
</ul>
<p class="caption"><span class="caption-text">IO类的使用</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="README.html">类的使用</a></li>
<li class="toctree-l1"><a class="reference internal" href="TKey.html">TKey*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TDirectory.html">TDirectory*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TDirectoryFile.html">TDirectoryFile*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSystemFile.html">TSystemFile+</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSystemDirectory.html">TSystemDirectory+</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFile.html">TFile*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFileCacheWrite.html">TFileCacheWrite*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFileCacheRead.html">TFileCacheRead*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFileMerger.html">TFileMerger*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMemFile.html">TMemFile*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TKeyMapFile.html">TKeyMapFile*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMapFile.html">TMapFile*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TArchiveFile.html">TArchiveFile*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TZIPFile.html">TZIPFile*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFilePrefetch.html">TFilePrefetch*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFPBlock.html">TFPBlock*</a></li>
<li class="toctree-l1"><a class="reference internal" href="THDFSFile.html">THDFSFile*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBuffer.html">TBuffer+</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBufferFile.html">TBufferFile*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBufferJSON.html">TBufferJSON*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TKeySQL.html">TKeySQL*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSQLObjectData.html">TSQLObjectData*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSQLStructure.html">TSQLStructure-</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSQLClassInfo.html">TSQLClassInfo*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBufferSQL2.html">TBufferSQL2</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSQLFile.html">TSQLFile*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TXMLEngine.html">TXMLEngine-</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBufferXML.html">TBufferXML-</a></li>
<li class="toctree-l1"><a class="reference internal" href="TXMLSetup.html">TXMLSetup-</a></li>
<li class="toctree-l1"><a class="reference internal" href="TKeyXML.html">TKeyXML-</a></li>
<li class="toctree-l1"><a class="reference internal" href="TXMLPlayer.html">TXMLPlayer-</a></li>
<li class="toctree-l1"><a class="reference internal" href="TXMLFile.html">TXMLFile-</a></li>
</ul>
<p class="caption"><span class="caption-text">常用类的使用</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">类的使用</a></li>
<li class="toctree-l1"><a class="reference internal" href="TTree.html">TTree*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TCut.html">TCut*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TTreePlayer.html">TTreePlayer*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TChain.html">TChain*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TEventList.html">TEventList*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBranch.html">TBranch*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TNtuple.html">TNtuple*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TNtupleD.html">TNtupleD*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TCollection.html">TCollection*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSeqCollection.html">TSeqCollection*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TList.html">TList*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TVirtualFitter.html">TVirtualFitter*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBackCompFitter.html">TBackCompFitter*</a></li>
<li class="toctree-l1"><a class="reference internal" href="FitResult.html">FitResult</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFitter.html">TFitter*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFitResult.html">TFitResult</a></li>
<li class="toctree-l1"><a class="reference internal" href="TFitResultPtr.html">TFitResultPtr</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">TFractionFitter*</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#class">class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#code">code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example">example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="TLinearFitter.html">TLinearFitter*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TAttAxis.html">TAttAxis*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TAxis.html">TAxis*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TGaxis.html">TGaxis*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TGaxis.html#example">example</a></li>
<li class="toctree-l1"><a class="reference internal" href="TText.html">TText*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TPaveStats.html">TPaveStats*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TPolyMarker.html">TPolyMarker</a></li>
<li class="toctree-l1"><a class="reference internal" href="TPaveText.html">TPaveText*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TPolyMarker3D.html">TPolyMarker3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="TLatex.html">TLatex*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TLegend.html">TLegend*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TLegendEntry.html">TLegendEntry*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TLine.html">TLine*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TVirtualPad.html">TVirtualPad*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TPad.html">TPad*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TCanvas.html">TCanvas*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TF1.html">TF1*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TF2.html">TF2</a></li>
<li class="toctree-l1"><a class="reference internal" href="TF3.html">TF3</a></li>
<li class="toctree-l1"><a class="reference internal" href="TGraph.html">TGraph*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TCutG.html">TCutG*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMultiGraph.html">TMultiGraph+</a></li>
<li class="toctree-l1"><a class="reference internal" href="TGraph2D.html">TGraph2D</a></li>
<li class="toctree-l1"><a class="reference internal" href="TGraph2DErrors.html">TGraph2DErrors</a></li>
<li class="toctree-l1"><a class="reference internal" href="TGraphErrors.html">TGraphErrors</a></li>
<li class="toctree-l1"><a class="reference internal" href="TGraphPolar.html">TGraphPolar</a></li>
<li class="toctree-l1"><a class="reference internal" href="TH1.html">TH1*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TH2.html">TH2+</a></li>
<li class="toctree-l1"><a class="reference internal" href="TH2Poly.html">TH2Poly*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TH3.html">TH3</a></li>
<li class="toctree-l1"><a class="reference internal" href="TProfile.html">TProfile</a></li>
<li class="toctree-l1"><a class="reference internal" href="TProfile2D.html">TProfile2D</a></li>
<li class="toctree-l1"><a class="reference internal" href="TProfile3D.html">TProfile3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMath.html">TMath*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMathBase.html">TMathBase*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMatrixT.html">TMatrixT</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMatrixTBase.html">TMatrixTBase</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMatrixTSparse.html">TMatrixTSparse</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMatrixTSym.html">TMatrixTSym</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpline.html">TSpline+</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMinuit.html">TMinuit*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMinuitMinimizer.html">TMinuitMinimizer*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TRandom.html">TRandom*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TRandom1.html">TRandom1*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TRandom2.html">TRandom2*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TRandom3.html">TRandom3*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSelector.html">TSelector-</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSelectorCint.html">TSelectorCint</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSelectorDraw.html">TSelectorDraw</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSelectorEntries.html">TSelectorEntries</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSelectorList.html">TSelectorList-</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSelectorScalar.html">TSelectorScalar</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrum.html">TSpectrum*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrum2.html">TSpectrum2</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrum2Fit.html">TSpectrum2Fit</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrum2Painter.html">TSpectrum2Painter</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrum2Transform.html">TSpectrum2Transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrum3.html">TSpectrum3</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrumFit.html">TSpectrumFit</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSpectrumTransform.html">TSpectrumTransform</a></li>
<li class="toctree-l1"><a class="reference internal" href="TTime.html">TTime*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TTimer.html">TTimer*</a></li>
<li class="toctree-l1"><a class="reference internal" href="TTimeStamp.html">TTimeStamp</a></li>
<li class="toctree-l1"><a class="reference internal" href="TStopwatch.html">TStopwatch</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBenchmark.html">TBenchmark+</a></li>
<li class="toctree-l1"><a class="reference internal" href="TThread.html">TThread</a></li>
<li class="toctree-l1"><a class="reference internal" href="TThreadFactory.html">TThreadFactory</a></li>
<li class="toctree-l1"><a class="reference internal" href="TThreadImp.html">TThreadImp</a></li>
<li class="toctree-l1"><a class="reference internal" href="TServerSocket.html">TServerSocket</a></li>
<li class="toctree-l1"><a class="reference internal" href="TSocket.html">TSocket</a></li>
<li class="toctree-l1"><a class="reference internal" href="TPServerSocket.html">TPServerSocket</a></li>
<li class="toctree-l1"><a class="reference internal" href="TPSocket.html">TPSocket</a></li>
<li class="toctree-l1"><a class="reference internal" href="TEllipse.html">TEllipse</a></li>
<li class="toctree-l1"><a class="reference internal" href="TNeuron.html">TNeuron</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMLPAnalyzer.html">TMLPAnalyzer</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMonitor.html">TMonitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="TMultiLayerPerceptron.html">TMultiLayerPerceptron</a></li>
</ul>
<p class="caption"><span class="caption-text">图形界面的使用</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="gui/README.html">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/GuiTypes.html">GuiTypes*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGButton.html">TGButton*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGButtonGroup.html">TGButtonGroup*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGCanvas.html">TGCanvas*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGClient.html">TGClient*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGColorDialog.html">TGColorDialog*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGColorSelect.html">TGColorSelect*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGComboBox.html">TGComboBox*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGCommandPlugin.html">TGCommandPlugin*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGDimension.html">TGDimension*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGDNDManager.html">TGDNDManager*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGDockableFrame.html">TGDockableFrame*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGDoubleSlider.html">TGDoubleSlider*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGEventHandler.html">TGEventHandler</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGFileBrowser.html">TGFileBrowser</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGFileDialog.html">TGFileDialog</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGFont.html">TGFont*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGFontDialog.html">TGFontDialog*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGFrame.html">TGFrame*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGFSComboBox.html">TGFSComboBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGFSContainer.html">TGFSContainer</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGGC.html">TGGC*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGIcon.html">TGIcon*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGIdleHandler.html">TGIdleHandler</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGImageMap.html">TGImageMap*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGInputDialog.html">TGInputDialog</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGLabel.html">TGLabel*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGLayout.html">TGLayout+</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGListBox.html">TGListBox+</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGListTree.html">TGListTree*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGListView.html">TGListView+</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGMdiDecorFrame.html">TGMdiDecorFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGMdiFrame.html">TGMdiFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGMdiMainFrame.html">TGMdiMainFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGMdiMenu.html">TGMdiMenu</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGMenu.html">TGMenu+</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGMimeTypes.html">TGMimeTypes</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGMsgBox.html">TGMsgBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGNumberEntry.html">TGNumberEntry+</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGObject.html">TGObject*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGPack.html">TGPack</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGPasswdDialog.html">TGPasswdDialog</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGPicture.html">TGPicture+</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGProgressBar.html">TGProgressBar*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGRedirectOutputGuard.html">TGRedirectOutputGuard</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGResourcePool.html">TGResourcePool</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGScrollBar.html">TGScrollBar+</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGShapedFrame.html">TGShapedFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGShutter.html">TGShutter</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGSimpleTable.html">TGSimpleTable+</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGSimpleTableInterface.html">TGSimpleTableInterface</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGSlider.html">TGSlider+</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGSpeedo.html">TGSpeedo*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGSplitFrame.html">TGSplitFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGSplitter.html">TGSplitter*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGStatusBar.html">TGStatusBar*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGString.html">TGString</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTab.html">TGTab*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTable.html">TGTable*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTableCell.html">TGTableCell-</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTableContainer.html">TGTableContainer-</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTableHeader.html">TGTableHeader-</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTableLayout.html">TGTableLayout-</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGText.html">TGText</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTextBuffer.html">TGTextBuffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTextEdit.html">TGTextEdit</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTextEditDialogs.html">TGTextEditDialogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTextEditor.html">TGTextEditor</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTextEntry.html">TGTextEntry*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTextView.html">TGTextView</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTextViewStream.html">TGTextViewStream*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGToolBar.html">TGToolBar</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGToolTip.html">TGToolTip</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGTripleSlider.html">TGTripleSlider*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGuiBuilder.html">TGuiBuilder</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGView.html">TGView*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGWidget.html">TGWidget*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGWindow.html">TGWindow*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TGXYLayout.html">TGXYLayout</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TQObject.html">TQObject*</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui/TRootEmbeddedCanvas.html">TRootEmbeddedCanvas*</a></li>
</ul>
<p class="caption"><span class="caption-text">GRAF3D</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="graf3d/README.html">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TAxis3D.html">TAxis3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TBRIK.html">TBRIK*</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TCONE.html">TCONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TCONS.html">TCONS</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TCTUB.html">TCTUB</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TELTU.html">TELTU</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TGeometry.html">TGeometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TGTRA.html">TGTRA</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/THelix.html">THelix</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/THYPE.html">THYPE</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TMarker3DBox.html">TMarker3DBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TMaterial.html">TMaterial</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TMixture.html">TMixture</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TNodeDiv.html">TNodeDiv</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TNode.html">TNode*</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TPARA.html">TPARA</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TPCON.html">TPCON</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TPGON.html">TPGON</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TPoints3DABC.html">TPoints3DABC</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TPointSet3D.html">TPointSet3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TPolyLine3D.html">TPolyLine3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TPolyMarker3D.html">TPolyMarker3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TRotMatrix.html">TRotMatrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TShape.html">TShape*</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TSPHE.html">TSPHE*</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TTRAP.html">TTRAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TTRD1.html">TTRD1</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TTRD2.html">TTRD2</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TTUBE.html">TTUBE</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TTUBS.html">TTUBS</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TView3D.html">TView3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/TXTRU.html">TXTRU</a></li>
<li class="toctree-l1"><a class="reference internal" href="graf3d/X3DBuffer.html">X3DBuffer</a></li>
</ul>
<p class="caption"><span class="caption-text">physics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="math/README.html">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TFeldmanCousins.html">TFeldmanCousins*</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TGenPhaseSpace.html">TGenPhaseSpace*</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TLorentzRotation.html">TLorentzRotation*</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TLorentzVector.html">TLorentzVector*</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TQuaternion.html">TQuaternion*</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TRobustEstimator.html">TRobustEstimator*</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TRolke.html">TRolke*</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TRotation.html">TRotation*</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TVectorT.html">TVectorT</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TVector2.html">TVector2</a></li>
<li class="toctree-l1"><a class="reference internal" href="math/TVector3.html">TVector3*</a></li>
</ul>
<p class="caption"><span class="caption-text">net</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="net/README.html">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/TCivetweb.html">TCivetweb</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/TFastCgi.html">TFastCgi</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/THttpCallArg.html">THttpCallArg</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/THttpEngine.html">THttpEngine</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/THttpServer.html">THttpServer</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/THttpWSEngine.html">THttpWSEngine</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/THttpWSHandler.html">THttpWSHandler</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/TRootSniffer.html">TRootSniffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="net/TRootSnifferStore.html">TRootSnifferStore</a></li>
</ul>
<p class="caption"><span class="caption-text">数据结构</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../structure/README.html">数据结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/datarecord.html">datarecord</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/dobject.html">dataobject</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/freesegments.html">FreeSegments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/gap.html">gap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/header.html">header</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/keyslist.html">KeysList</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/StreamerInfo.html">StreamerInfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TClonesArray.html">TClonesArray</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TDirectory.html">TDirectory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TFile.html">TFile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TObject.html">TObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TProcessID.html">TProcessID</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TRefArray.html">TRefArray</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TRef.html">TRef</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/TTree.html">TTree</a></li>
</ul>
<p class="caption"><span class="caption-text">预定义</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../define/README.html">预定义</a></li>
<li class="toctree-l1"><a class="reference internal" href="../define/RVersion.html">RVersion</a></li>
</ul>
<p class="caption"><span class="caption-text">文件版本</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../version/version.html">文件更新版本</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ROOT Note</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>TFractionFitter*</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/class/TFractionFitter.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <!-- TFractionFitter.md --- 
;; 
;; Description: 
;; Author: Hongyi Wu(吴鸿毅)
;; Email: wuhongyi@qq.com 
;; Created: 一 11月 28 13:57:41 2016 (+0800)
;; Last-Updated: 三 9月 16 12:46:54 2020 (+0800)
;;           By: Hongyi Wu(吴鸿毅)
;;     Update #: 2
;; URL: http://wuhongyi.cn --><div class="section" id="tfractionfitter">
<h1>TFractionFitter*<a class="headerlink" href="#tfractionfitter" title="永久链接至标题">¶</a></h1>
<p>The virtue of this fit is that it takes into account both data and Monte Carlo
statistical uncertainties. The way in which this is done is through a standard
likelihood fit using Poisson statistics; however, the template (MC) predictions
are also varied within statistics, leading to additional contributions to the
overall likelihood. This leads to many more fit parameters (one per bin per
template), but the minimisation with respect to these additional parameters is
done analytically rather than introducing them as formal fit parameters. Some
special care needs to be taken in the case of bins with zero content. For more
details please see the original publication cited above.</p>
<p>TFractionFitter 继承 TObject</p>
<div class="section" id="class">
<h2>class<a class="headerlink" href="#class" title="永久链接至标题">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>   <span class="n">TFractionFitter</span><span class="p">();</span>
   <span class="n">TFractionFitter</span><span class="p">(</span><span class="n">TH1</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span> <span class="n">TObjArray</span> <span class="o">*</span><span class="n">MCs</span><span class="p">,</span> <span class="n">Option_t</span> <span class="o">*</span><span class="n">option</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="c1">/// TFractionFitter constructor. Does a complete initialisation (including</span>
<span class="c1">/// consistency checks, default fit range as the whole histogram but without</span>
<span class="c1">/// under- and overflows, and declaration of the fit parameters). Note that</span>
<span class="c1">/// the histograms are not copied, only references are used.</span>
<span class="c1">/// \param[in] data histogram to be fitted</span>
<span class="c1">/// \param[in] MCs  array of TH1* corresponding template distributions</span>
<span class="c1">/// \param[in] option   can be used to control the print level of the minimization algorithm</span>
<span class="c1">///            - option = &quot;Q&quot;  : quite - no message is printed</span>
<span class="c1">///            - option = &quot;V&quot;  : verbose - max print out</span>
<span class="c1">///            - option = &quot;&quot;   : default: print initial fraction values and result</span>

   <span class="k">virtual</span> <span class="o">~</span><span class="n">TFractionFitter</span><span class="p">();</span>

   <span class="c1">//TVirtualFitter* GetFitter() const;</span>
   <span class="n">ROOT</span><span class="o">::</span><span class="n">Fit</span><span class="o">::</span><span class="n">Fitter</span><span class="o">*</span> <span class="n">GetFitter</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
<span class="c1">/// Give direct access to the underlying fitter class. This can be</span>
<span class="c1">/// used e.g. to modify parameter values or step sizes.</span>

   <span class="kt">void</span> <span class="nf">ErrorAnalysis</span><span class="p">(</span><span class="n">Double_t</span> <span class="n">UP</span><span class="p">);</span>
<span class="c1">/// Set UP to the given value (see class TMinuit), and perform a MINOS minimisation.</span>

   <span class="kt">void</span> <span class="nf">SetRangeX</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">low</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">high</span><span class="p">);</span>
<span class="c1">/// Set the X range of the histogram to be used in the fit.</span>
<span class="c1">/// Use ReleaseRangeX() to go back to fitting the full histogram.</span>
<span class="c1">/// The consistency check ensures that no empty fit range occurs (and also</span>
<span class="c1">/// recomputes the bin content integrals).</span>
<span class="c1">/// \param[in] low lower X bin number</span>
<span class="c1">/// \param[in] high upper X bin number</span>

   <span class="kt">void</span> <span class="nf">ReleaseRangeX</span><span class="p">();</span><span class="c1">/// Release restrictions on the X range of the histogram to be used in the fit.</span>
   <span class="kt">void</span> <span class="nf">SetRangeY</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">low</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">high</span><span class="p">);</span>
<span class="c1">/// Set the Y range of the histogram to be used in the fit (2D or 3D histograms only).</span>
<span class="c1">/// Use ReleaseRangeY() to go back to fitting the full histogram.</span>
<span class="c1">/// The consistency check ensures that no empty fit range occurs (and also</span>
<span class="c1">/// recomputes the bin content integrals).</span>
<span class="c1">/// \param[in] low lower X bin number</span>
<span class="c1">/// \param[in] high upper X bin number</span>

   <span class="kt">void</span> <span class="nf">ReleaseRangeY</span><span class="p">();</span><span class="c1">/// Release restrictions on the Y range of the histogram to be used in the fit.</span>
   <span class="kt">void</span> <span class="nf">SetRangeZ</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">low</span><span class="p">,</span> <span class="n">Int_t</span> <span class="n">high</span><span class="p">);</span>
<span class="c1">/// Set the Z range of the histogram to be used in the fit (3D histograms only).</span>
<span class="c1">/// Use ReleaseRangeY() to go back to fitting the full histogram.</span>
<span class="c1">/// The consistency check ensures that no empty fit range occurs (and also</span>
<span class="c1">/// recomputes the bin content integrals).</span>
<span class="c1">/// \param[in] low lower X bin number</span>
<span class="c1">/// \param[in] high upper X bin number</span>

   <span class="kt">void</span> <span class="nf">ReleaseRangeZ</span><span class="p">();</span><span class="c1">/// Release restrictions on the Z range of the histogram to be used in the fit.</span>
   <span class="kt">void</span> <span class="nf">ExcludeBin</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">bin</span><span class="p">);</span>
<span class="c1">/// Exclude the given bin from the fit. The bin numbering to be used is that</span>
<span class="c1">/// of TH1::GetBin().</span>

   <span class="kt">void</span> <span class="nf">IncludeBin</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">bin</span><span class="p">);</span>
<span class="c1">/// Include the given bin in the fit, if it was excluded before using ExcludeBin().</span>
<span class="c1">/// The bin numbering to be used is that of TH1::GetBin().</span>

   <span class="kt">void</span> <span class="nf">Constrain</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">parm</span><span class="p">,</span> <span class="n">Double_t</span> <span class="n">low</span><span class="p">,</span> <span class="n">Double_t</span> <span class="n">high</span><span class="p">);</span>
<span class="c1">/// Constrain the values of parameter number &lt;parm&gt; (the parameter numbering</span>
<span class="c1">/// follows that of the input template vector).</span>
<span class="c1">/// Use UnConstrain() to remove this constraint.</span>

   <span class="kt">void</span> <span class="nf">UnConstrain</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">parm</span><span class="p">);</span><span class="c1">/// Remove the constraints on the possible values of parameter &lt;parm&gt;.</span>
   <span class="kt">void</span> <span class="nf">SetData</span><span class="p">(</span><span class="n">TH1</span> <span class="o">*</span><span class="n">data</span><span class="p">);</span>
<span class="c1">/// Change the histogram to be fitted to. Notes:</span>
<span class="c1">/// - Parameter constraints and settings are retained from a possible previous fit.</span>
<span class="c1">/// - Modifying the dimension or number of bins results in an error (in this case</span>
<span class="c1">///   rather instantiate a new TFractionFitter object)</span>

   <span class="kt">void</span> <span class="nf">SetMC</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">parm</span><span class="p">,</span> <span class="n">TH1</span> <span class="o">*</span><span class="n">MC</span><span class="p">);</span>
<span class="c1">/// Change the histogram for template number &lt;parm&gt;. Notes:</span>
<span class="c1">/// - Parameter constraints and settings are retained from a possible previous fit.</span>
<span class="c1">/// - Modifying the dimension or number of bins results in an error (in this case</span>
<span class="c1">///   rather instantiate a new TFractionFitter object)</span>

   <span class="kt">void</span> <span class="nf">SetWeight</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">parm</span><span class="p">,</span> <span class="n">TH1</span><span class="o">*</span> <span class="n">weight</span><span class="p">);</span>
<span class="c1">/// Set bin by bin weights for template number &lt;parm&gt; (the parameter numbering</span>
<span class="c1">/// follows that of the input template vector).</span>
<span class="c1">/// Weights can be &quot;unset&quot; by passing a null pointer.</span>
<span class="c1">/// Consistency of the weights histogram with the data histogram is checked at</span>
<span class="c1">/// this point, and an error in case of problems.</span>

   <span class="n">TFitResultPtr</span> <span class="nf">Fit</span><span class="p">();</span>
<span class="c1">/// Perform the fit with the default UP value.</span>
<span class="c1">/// The value returned is the minimisation status.</span>

   <span class="kt">void</span> <span class="nf">GetResult</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">parm</span><span class="p">,</span> <span class="n">Double_t</span><span class="o">&amp;</span> <span class="n">value</span><span class="p">,</span> <span class="n">Double_t</span><span class="o">&amp;</span> <span class="n">error</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
<span class="c1">/// Obtain the fit result for parameter &lt;parm&gt; (the parameter numbering</span>
<span class="c1">/// follows that of the input template vector).</span>

   <span class="n">TH1</span><span class="o">*</span> <span class="nf">GetPlot</span><span class="p">();</span>
<span class="c1">/// Return the &quot;template prediction&quot; corresponding to the fit result (this is not</span>
<span class="c1">/// the same as the weighted sum of template distributions, as template statistical</span>
<span class="c1">/// uncertainties are taken into account).</span>
<span class="c1">/// Note that the name of this histogram will simply be the same as that of the</span>
<span class="c1">/// &quot;data&quot; histogram, prefixed with the string &quot;Fraction fit to hist: &quot;.</span>
<span class="c1">/// Note also that the histogram is managed by the TFractionFitter class, so the returned pointer will be invalid if </span>
<span class="c1">/// the class is deleted </span>

   <span class="c1">// This global function needs access to computeFCN()</span>
   <span class="c1">//friend void TFractionFitFCN(Int_t&amp; npar, Double_t* gin, Double_t&amp; f, Double_t* par, Int_t flag);</span>

   <span class="c1">// Goodness of fit</span>
   <span class="n">Double_t</span> <span class="nf">GetChisquare</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
<span class="c1">/// Return the likelihood ratio Chi-squared (chi2) for the fit.</span>
<span class="c1">/// The value is computed when the fit is executed successfully.</span>
<span class="c1">/// Chi2 calculation is based on the &quot;likelihood ratio&quot; lambda,</span>
<span class="c1">/// lambda = L(y;n) / L(m;n),</span>
<span class="c1">/// where L(y;n) is the likelihood of the fit result &lt;y&gt; describing the data &lt;n&gt;</span>
<span class="c1">/// and L(m;n) is the likelihood of an unknown &quot;true&quot; underlying distribution</span>
<span class="c1">/// &lt;m&gt; describing the data &lt;n&gt;. Since &lt;m&gt; is unknown, the data distribution is</span>
<span class="c1">/// used instead,</span>
<span class="c1">/// lambda = L(y;n) / L(n;n).</span>
<span class="c1">/// Note that this ratio is 1 if the fit is perfect. The chi2 value is then</span>
<span class="c1">/// computed according to</span>
<span class="c1">/// chi2 = -2*ln(lambda).</span>
<span class="c1">/// This parameter can be shown to follow a Chi-square distribution. See for</span>
<span class="c1">/// example S. Baker and R. Cousins, &quot;Clarification of the use of chi-square</span>
<span class="c1">/// and likelihood functions in fits to histograms&quot;, Nucl. Instr. Meth. A221,</span>
<span class="c1">/// pp. 437-442 (1984)</span>

   <span class="n">Int_t</span> <span class="nf">GetNDF</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
<span class="c1">/// return the number of degrees of freedom in the fit</span>
<span class="c1">/// the fNDF parameter has been previously computed during a fit.</span>
<span class="c1">/// The number of degrees of freedom corresponds to the number of points</span>
<span class="c1">/// used in the fit minus the number of templates.</span>

   <span class="n">Double_t</span> <span class="nf">GetProb</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span><span class="c1">/// return the fit probability</span>

   <span class="c1">// MC predictions (smeared templates)</span>
   <span class="n">TH1</span><span class="o">*</span> <span class="nf">GetMCPrediction</span><span class="p">(</span><span class="n">Int_t</span> <span class="n">parm</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
<span class="c1">/// Return the adjusted MC template (Aji) for template (parm).</span>
<span class="c1">/// Note that the (Aji) times fractions only sum to the total prediction</span>
<span class="c1">/// of the fit if all weights are 1.</span>
<span class="c1">/// Note also that the histogram is managed by the TFractionFitter class, so the returned pointer will be invalid if </span>
<span class="c1">/// the class is deleted </span>

   <span class="c1">// FCN evaluation</span>
   <span class="n">Double_t</span> <span class="nf">EvaluateFCN</span><span class="p">(</span><span class="k">const</span> <span class="n">Double_t</span> <span class="o">*</span> <span class="n">par</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">Double_t</span> <span class="n">f</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="n">ComputeFCN</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">par</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
      <span class="k">return</span> <span class="n">f</span><span class="p">;</span>
   <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="code">
<h2>code<a class="headerlink" href="#code" title="永久链接至标题">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="n">TH1F</span> <span class="o">*</span><span class="n">data</span><span class="p">;</span>                              <span class="c1">//data histogram</span>
  <span class="n">TH1F</span> <span class="o">*</span><span class="n">mc0</span><span class="p">;</span>                               <span class="c1">// first MC histogram</span>
  <span class="n">TH1F</span> <span class="o">*</span><span class="n">mc1</span><span class="p">;</span>                               <span class="c1">// second MC histogram</span>
  <span class="n">TH1F</span> <span class="o">*</span><span class="n">mc2</span><span class="p">;</span>                               <span class="c1">// third MC histogram</span>
  <span class="p">....</span>                                     <span class="c1">// retrieve histograms</span>
   <span class="n">TObjArray</span> <span class="o">*</span><span class="n">mc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TObjArray</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>        <span class="c1">// MC histograms are put in this array</span>
   <span class="n">mc</span><span class="o">-&gt;</span><span class="n">Add</span><span class="p">(</span><span class="n">mc0</span><span class="p">);</span>
   <span class="n">mc</span><span class="o">-&gt;</span><span class="n">Add</span><span class="p">(</span><span class="n">mc1</span><span class="p">);</span>
   <span class="n">mc</span><span class="o">-&gt;</span><span class="n">Add</span><span class="p">(</span><span class="n">mc2</span><span class="p">);</span>
   <span class="n">TFractionFitter</span><span class="o">*</span> <span class="n">fit</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TFractionFitter</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">mc</span><span class="p">);</span> <span class="c1">// initialise</span>
   <span class="n">fit</span><span class="o">-&gt;</span><span class="n">Constrain</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">);</span>               <span class="c1">// constrain fraction 1 to be between 0 and 1</span>
   <span class="n">fit</span><span class="o">-&gt;</span><span class="n">SetRangeX</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">);</span>                    <span class="c1">// use only the first 15 bins in the fit</span>
   <span class="n">Int_t</span> <span class="n">status</span> <span class="o">=</span> <span class="n">fit</span><span class="o">-&gt;</span><span class="n">Fit</span><span class="p">();</span>               <span class="c1">// perform the fit</span>
   <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;fit status: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">status</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">status</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>                       <span class="c1">// check on fit status</span>
     <span class="n">TH1F</span><span class="o">*</span> <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">TH1F</span><span class="o">*</span><span class="p">)</span> <span class="n">fit</span><span class="o">-&gt;</span><span class="n">GetPlot</span><span class="p">();</span>
     <span class="n">data</span><span class="o">-&gt;</span><span class="n">Draw</span><span class="p">(</span><span class="s">&quot;Ep&quot;</span><span class="p">);</span>
     <span class="n">result</span><span class="o">-&gt;</span><span class="n">Draw</span><span class="p">(</span><span class="s">&quot;same&quot;</span><span class="p">);</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">## Assumptions</span>
<span class="cm">A few assumptions need to be made for the fit procedure to be carried out:</span>
<span class="cm"> 1 The total number of events in each template is not too small</span>
<span class="cm">    (so that its Poisson uncertainty can be neglected).</span>
<span class="cm"> 2 The number of events in each bin is much smaller than the total</span>
<span class="cm">    number of events in each template (so that multinomial</span>
<span class="cm">    uncertainties can be replaced with Poisson uncertainties).</span>

<span class="cm">Biased fit uncertainties may result if these conditions are not fulfilled</span>
<span class="cm">(see e.g. arXiv:0803.2711).</span>

<span class="cm">## Instantiation</span>
<span class="cm">A fit object is instantiated through</span>
<span class="cm">    TFractionFitter* fit = new TFractionFitter(data, mc);</span>
<span class="cm">A number of basic checks (intended to ensure that the template histograms</span>
<span class="cm">represent the same &quot;kind&quot; of distribution as the data one) are carried out.</span>
<span class="cm">The TVirtualFitter object is then addressed and all fit parameters (the</span>
<span class="cm">template fractions) declared (initially unbounded).</span>

<span class="cm">## Applying constraints</span>
<span class="cm">Fit parameters can be constrained through</span>

<span class="cm"> fit-&gt;Constrain(parameter #, lower bound, upper bound);</span>

<span class="cm">Setting lower bound = upper bound = 0 removes the constraint (a la Minuit);</span>
<span class="cm">however, a function</span>

<span class="cm">    fit-&gt;Unconstrain(parameter #)</span>

<span class="cm">is also provided to simplify this.</span>

<span class="cm">## Setting parameter values</span>
<span class="cm">The function</span>

<span class="cm">    TVirtualFitter* vFit = fit-&gt;GetFitter();</span>

<span class="cm">is provided for direct access to the TVirtualFitter object. This allows to</span>
<span class="cm">set and fix parameter values, and set step sizes directly.</span>

<span class="cm">## Restricting the fit range</span>
<span class="cm">The fit range can be restricted through</span>

<span class="cm">    fit-&gt;SetRangeX(first bin #, last bin #);</span>
<span class="cm">and freed using</span>

<span class="cm">    fit-&gt;ReleaseRangeX();</span>
<span class="cm">For 2D histograms the Y range can be similarly restricted using</span>

<span class="cm">    fit-&gt;SetRangeY(first bin #, last bin #);</span>
<span class="cm">    fit-&gt;ReleaseRangeY();</span>
<span class="cm">and for 3D histograms also</span>

<span class="cm">    fit-&gt;SetRangeZ(first bin #, last bin #);</span>
<span class="cm">    fit-&gt;ReleaseRangeZ();</span>
<span class="cm">It is also possible to exclude individual bins from the fit through</span>

<span class="cm">    fit-&gt;ExcludeBin(bin #);</span>
<span class="cm">where the given bin number is assumed to follow the TH1::GetBin() numbering.</span>
<span class="cm">Any bins excluded in this way can be included again using the corresponding</span>

<span class="cm">    fit-&gt;IncludeBin(bin #);</span>

<span class="cm">## Weights histograms</span>
<span class="cm">Weights histograms (for a motivation see the above publication) can be specified</span>
<span class="cm">for the individual MC sources through</span>

<span class="cm">    fit-&gt;SetWeight(parameter #, pointer to weights histogram);</span>
<span class="cm">and unset by specifying a null pointer.</span>

<span class="cm">## Obtaining fit results</span>
<span class="cm">The fit is carried out through</span>

<span class="cm">    Int_t status = fit-&gt;Fit();</span>
<span class="cm">where  status  is the code returned from the &quot;MINIMIZE&quot; command. For fits</span>
<span class="cm">that converged, parameter values and errors can be obtained through</span>

<span class="cm">    fit-&gt;GetResult(parameter #, value, error);</span>
<span class="cm">and the histogram corresponding to the total Monte Carlo prediction (which</span>
<span class="cm">is not the same as a simple weighted sum of the input Monte Carlo distributions)</span>
<span class="cm">can be obtained by</span>

<span class="cm">    TH1* result = fit-&gt;GetPlot();</span>
<span class="cm">## Using different histograms</span>
<span class="cm">It is possible to change the histogram being fitted through</span>

<span class="cm">    fit-&gt;SetData(TH1* data);</span>
<span class="cm">and to change the template histogram for a given parameter number through</span>

<span class="cm">    fit-&gt;SetMC(parameter #, TH1* MC);</span>
<span class="cm">This can speed up code in case of multiple data or template histograms;</span>
<span class="cm">however, it should be done with care as any settings are taken over from</span>
<span class="cm">the previous fit. In addition, neither the dimensionality nor the numbers of</span>
<span class="cm">bins of the histograms should change (in that case it is better to instantiate</span>
<span class="cm">a new TFractionFitter object).</span>
<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="example">
<h2>example<a class="headerlink" href="#example" title="永久链接至标题">¶</a></h2>
<!-- TFractionFitter.md ends here --></div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="TLinearFitter.html" class="btn btn-neutral float-right" title="TLinearFitter*" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="TFitResultPtr.html" class="btn btn-neutral float-left" title="TFitResultPtr" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Hongyi Wu(吴鸿毅)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>